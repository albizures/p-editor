/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};

/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {

/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;

/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};

/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);

/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;

/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}


/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;

/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;

/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";

/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ function(module, exports, __webpack_require__) {

	eval("console.time('canvas');\n'use strict';\n__webpack_require__(1);\n\nwindow.hasVal = val => {\n\treturn typeof val !== 'undefined' && val !== null;\n};\nwindow.$ = __webpack_require__(2);\n\n__webpack_require__(11);\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/client/init.js\n ** module id = 0\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./src/client/init.js?");

/***/ },
/* 1 */
/***/ function(module, exports) {

	eval("// removed by extract-text-webpack-plugin\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/client/style/main.styl\n ** module id = 1\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./src/client/style/main.styl?");

/***/ },
/* 2 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nconst Selector = __webpack_require__(3),\n      AppendObject = __webpack_require__(4);\nfunction createProp(name, ob, val) {\n\tif (hasVal(ob[name])) {\n\t\treturn;\n\t}\n\tObject.defineProperty(ob, name, {\n\t\tvalue: val,\n\t\tenumerable: false\n\t});\n}\nlet $ = function () {\n\tif (arguments.length === 0) {\n\t\treturn;\n\t}\n\tif (arguments[0] instanceof Selector) {\n\t\treturn arguments[0];\n\t}\n\tlet params = arguments;\n\tif (params[0] instanceof Element || params[0] === window) {\n\t\treturn new Selector(params[0]);\n\t} else if (params[0] instanceof AppendObject) {\n\t\treturn new Selector(params[0].el);\n\t} else if (typeof params[0] === 'string') {\n\t\tlet selector = params[0].trim(),\n\t\t    element,\n\t\t    simple = true;\n\n\t\tsimple == selector.indexOf(' ') !== -1 && simple;\n\t\tsimple == selector.split('.').length > 1 && simple;\n\t\tsimple == selector.indexOf('>') !== -1 && simple;\n\t\tsimple == selector.indexOf(',') !== -1 && simple;\n\n\t\tif (simple) {\n\t\t\tif (selector.indexOf('#') !== -1) {\n\t\t\t\telement = document.getElementById(selector.replace('#', ''));\n\t\t\t} else if (selector.indexOf('.') !== -1) {\n\t\t\t\telement = document.getElementsByClassName(selector.replace('.', ''));\n\t\t\t\tconsole.log(element, selector);\n\t\t\t}\n\t\t} else {\n\t\t\tconsole.log('query select');\n\t\t}\n\t\treturn new Selector(element);\n\t}\n};\nmodule.exports = $;\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/client/$.js\n ** module id = 2\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./src/client/$.js?");

/***/ },
/* 3 */
/***/ function(module, exports) {

	eval("'use strict';\n\nfunction Selector() {\n\tif (arguments.length === 1 && arguments[0] && arguments[0].length) {\n\t\tfor (let i = 0; i < arguments[0].length; i++) {\n\t\t\tif (hasVal(arguments[0][i])) {\n\t\t\t\tthis.push(arguments[0][i]);\n\t\t\t}\n\t\t}\n\t} else {\n\t\tfor (let i = 0; i < arguments.length; i++) {\n\t\t\tif (hasVal(arguments[i])) {\n\t\t\t\tthis.push(arguments[i]);\n\t\t\t}\n\t\t}\n\t}\n}\nfunction dimensions(prop, val, type) {\n\tlet suffix = window === this[0] ? 'inner' : type ? 'client' : 'offset';\n\tif (hasVal(val)) {\n\t\tif (typeof val === 'number') {\n\t\t\tlet dim = 'px';\n\t\t\tfor (let i = 0; i < this.length; i++) {\n\t\t\t\tthis[i].style.width = val + dim;\n\t\t\t}\n\t\t}\n\t} else {\n\t\treturn this[0][suffix + prop];\n\t}\n}\nSelector.prototype = Object.create(Array.prototype);\nSelector.prototype.width = function (val) {\n\treturn dimensions.bind(this)('Width', val);\n};\nSelector.prototype.height = function (val) {\n\treturn dimensions.bind(this)('Height', val);\n};\nSelector.prototype.contentWidth = function (val) {\n\treturn dimensions.bind(this)('Width', val, true);\n};\nSelector.prototype.contentHeight = function (val) {\n\treturn dimensions.bind(this)('Height', val, true);\n};\nSelector.prototype.on = function (name, handler) {\n\n\tvar suffix = name.split('.')[1];\n\tname = name.split('.')[0];\n\tfor (let i = 0; i < this.length; i++) {\n\t\tif (!hasVal(this[i]._events)) {\n\t\t\tObject.defineProperty(this[i], '_events', {\n\t\t\t\tvalue: {},\n\t\t\t\tenumerable: false\n\t\t\t});\n\t\t}\n\t\tif (!hasVal(suffix)) {\n\t\t\treturn console.error('Event error name');\n\t\t}\n\t\tif (!hasVal(this[i]._events[name])) {\n\t\t\tthis[i]._events[name] = {};\n\t\t}\n\t\tif (!hasVal(this[i]._events[name][suffix])) {\n\t\t\tthis[i]._events[name][suffix] = handler.bind(this[i]);\n\t\t\tthis[i].addEventListener(name, this[i]._events[name][suffix]);\n\t\t} else {\n\t\t\tconsole.log(this[i]._events[name][suffix]);\n\t\t\tconsole.error('Event wrong name', arguments);\n\t\t}\n\t}\n\treturn this;\n};\nSelector.prototype.off = function (name) {\n\tvar suffix = name.split('.')[1];\n\tname = name.split('.')[0];\n\tfor (let i = 0; i < this.length; i++) {\n\t\tif (!hasVal(suffix)) {\n\t\t\tif (hasVal(this[i]._events[name])) {\n\t\t\t\tfor (let i in this[i]._events[name]) {\n\t\t\t\t\tthis[i].removeEventListener(name, this[i]._events[name][i]);\n\t\t\t\t}\n\t\t\t\tdelete this[i]._events[name];\n\t\t\t} else {\n\t\t\t\tfor (let i in this[i]._events) {\n\t\t\t\t\tif (hasVal(this[i]._events[i][name])) {\n\t\t\t\t\t\tthis[i].removeEventListener(i, this[i]._events[i][name]);\n\t\t\t\t\t\tdelete this[i]._events[i][name];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (hasVal(this[i]._events) && hasVal(this[i]._events[name]) && hasVal(this[i]._events[name][suffix])) {\n\t\t\tthis[i].removeEventListener(name, this[i]._events[name][suffix]);\n\t\t\tdelete this[i]._events[name][suffix];\n\t\t}\n\t}\n\treturn this;\n};\nSelector.prototype.append = function (child) {\n\tfor (let i = 0; i < this.length; i++) {\n\t\tif (child instanceof Element) {\n\t\t\tthis[i].appendChild(child);\n\t\t} else {\n\t\t\tfor (let a = 0; a < child.length; a++) {\n\t\t\t\tif (child[a] instanceof Element) {\n\t\t\t\t\tthis[i].appendChild(child[a]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn this;\n};\nmodule.exports = Selector;\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/client/prototypes/Selector.js\n ** module id = 3\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./src/client/prototypes/Selector.js?");

/***/ },
/* 4 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nvar _require = __webpack_require__(5);\n\nconst defineGetter = _require.defineGetter;\n\n\nfunction AppendObject() {\n\tthis.el = document.createElement(this.$type);\n\tfor (let i = 0; i < arguments.length; i++) {\n\t\tthis.el.classList.add(arguments[i]);\n\t}\n}\ndefineGetter(AppendObject.prototype, 'parent', function () {\n\treturn this.el.parentNode;\n});\nAppendObject.prototype.appendTo = function (parent) {\n\tparent.appendChild(this.el);\n\treturn this;\n};\nAppendObject.prototype.remove = function () {\n\tthis.el.remove();\n};\nAppendObject.prototype.$type = 'div';\nmodule.exports = AppendObject;\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/client/prototypes/AppendObject.js\n ** module id = 4\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./src/client/prototypes/AppendObject.js?");

/***/ },
/* 5 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nlet imageSmoothing = function (ctx, value) {\n\tctx.imageSmoothingEnabled = value;\n\tctx.mozImageSmoothingEnabled = value;\n\tctx.webkitImageSmoothingEnabled = value;\n\tctx.msImageSmoothingEnabled = value;\n};\nfunction createSpan(text) {\n\tlet newSpan = document.createElement('span');\n\tnewSpan.textContent = text;\n\tlet classes = Array.prototype.slice.call(arguments, 1);\n\tfor (let i = 0; i < classes.length; i++) {\n\t\tnewSpan.classList.add(classes[i]);\n\t}\n\treturn newSpan;\n}\nfunction createBtn(text) {\n\tlet newBtn = document.createElement('button');\n\tnewBtn.textContent = text;\n\tlet classes = Array.prototype.slice.call(arguments, 1);\n\tfor (let i = 0; i < classes.length; i++) {\n\t\tnewBtn.classList.add(classes[i]);\n\t}\n\treturn newBtn;\n}\nfunction createDiv() {\n\tlet newDiv = document.createElement('div');\n\tfor (let i = 0; i < arguments.length; i++) {\n\t\tnewDiv.classList.add(arguments[i]);\n\t}\n\treturn newDiv;\n}\nfunction createInputRange(value, min, max) {\n\tlet newInput = document.createElement('input');\n\tnewInput.type = 'range';\n\tnewInput.value = value;\n\tnewInput.min = min;\n\tnewInput.max = max;\n\tlet classes = Array.prototype.slice.call(arguments, 2);\n\tfor (let i = 0; i < classes.length; i++) {\n\t\tnewInput.classList.add(classes[i]);\n\t}\n\treturn newInput;\n}\nfunction defineGetter(obj, name, fn) {\n\tObject.defineProperty(obj, name, {\n\t\tget: fn,\n\t\tenumerable: true,\n\t\tconfigurable: true\n\t});\n}\n//Returns true if it is a DOM node\nfunction isNode(o) {\n\treturn typeof Node === \"object\" ? o instanceof Node : o && typeof o === \"object\" && typeof o.nodeType === \"number\" && typeof o.nodeName === \"string\";\n}\n\n//Returns true if it is a DOM element\nfunction isElement(o) {\n\treturn typeof HTMLElement === \"object\" ? o instanceof HTMLElement : //DOM2\n\to && typeof o === \"object\" && o !== null && o.nodeType === 1 && typeof o.nodeName === \"string\";\n}\n// NOTE: code taken from http://stackoverflow.com/a/2947012/4394520 with a littles chages\nfunction make(desc) {\n\tif (!Array.isArray(desc)) {\n\t\treturn make.call(this, Array.prototype.slice.call(arguments));\n\t}\n\n\tlet name = desc[0],\n\t    parent = false,\n\t    attributes = desc[1],\n\t    el = typeof name === 'string' ? document.createElement(name) : name,\n\t    start = 1;\n\tif (typeof attributes === \"object\" && attributes !== null && !Array.isArray(attributes) && !isElement(attributes)) {\n\t\tfor (let attr in attributes) {\n\t\t\tif (attr === 'parent') {\n\t\t\t\tparent = true;\n\t\t\t} else {\n\t\t\t\tel[attr] = attributes[attr];\n\t\t\t}\n\t\t}\n\t\tstart = 2;\n\t}\n\n\tfor (let i = start; i < desc.length; i++) {\n\t\tif (isElement(desc[i])) {\n\t\t\tel.appendChild(desc[i]);\n\t\t} else if (Array.isArray(desc[i])) {\n\t\t\tel.appendChild(make(desc[i]));\n\t\t} else {\n\t\t\tel.appendChild(document.createTextNode(desc[i]));\n\t\t}\n\t}\n\tif (parent) {\n\t\tattributes.parent.appendChild(el);\n\t}\n\treturn el;\n}\nmodule.exports = {\n\tmake,\n\tdefineGetter,\n\timageSmoothing,\n\tcreateBtn,\n\tcreateSpan,\n\tcreateDiv,\n\tcreateInputRange,\n\timageSmoothingDisabled(ctx) {\n\t\timageSmoothing(ctx, false);\n\t},\n\tinheritanceObject: function (child, father) {\n\t\tchild.prototype = Object.create(father.prototype);\n\t\tchild.prototype.constructor = child;\n\t}\n};\nmodule.exports.colors = __webpack_require__(6);\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/client/utils.js\n ** module id = 5\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./src/client/utils.js?");

/***/ },
/* 6 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nvar _require$colors = __webpack_require__(7).colors;\n\nconst HEX = _require$colors.HEX;\nconst RGBA_PER = _require$colors.RGBA_PER;\nconst RGBA = _require$colors.RGBA;\nconst ABBR_HEX = _require$colors.ABBR_HEX;\nconst NAC = _require$colors.NAC;\nconst DEFAULT_COLOR = _require$colors.DEFAULT_COLOR;\nconst HSL = _require$colors.HSL;\nconst abbrHex = /^#([a-fA-F0-9]{3})$/;\nconst hex = /^#([a-fA-F0-9]{6})$/;\nconst rgba = /^rgba?\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)$/;\nconst perRgba = /^rgba?\\(\\s*([+-]?[\\d\\.]+)\\%\\s*,\\s*([+-]?[\\d\\.]+)\\%\\s*,\\s*([+-]?[\\d\\.]+)\\%\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)$/;\nconst hsl = /^hsla?\\(\\s*([+-]?\\d*[\\.]?\\d+)(?:deg)?\\s*,\\s*([+-]?[\\d\\.]+)%\\s*,\\s*([+-]?[\\d\\.]+)%\\s*(?:,\\s*([+-]?[\\d\\.]+)\\s*)?\\)/;\n\nfunction isValid(color) {\n\treturn NAC !== detectType(color);\n}\nfunction detectType(color) {\n\tif (isAbbrHex(color)) {\n\t\treturn ABBR_HEX;\n\t} else if (isHex(color)) {\n\t\treturn HEX;\n\t} else if (isRGBA(color)) {\n\t\treturn RGBA;\n\t} else if (isRGBAPer(color)) {\n\t\treturn RGBA_PER;\n\t} else if (isHSL(color)) {\n\t\treturn HSL;\n\t} else {\n\t\treturn NAC;\n\t}\n}\nfunction isAbbrHex(color) {\n\treturn color.match(abbrHex) || false;\n}\nfunction isHex(color) {\n\treturn color.match(hex) || false;\n}\nfunction isRGBA(color) {\n\treturn color.match(rgba) || false;\n}\nfunction isRGBAPer(color) {\n\treturn color.match(perRgba) || false;\n}\nfunction isHSL(color) {\n\treturn color.match(hsl) || false;\n}\nfunction colorIsLight(r, g, b) {\n\tvar a = 1 - (0.299 * r + 0.587 * g + 0.114 * b) / 255;\n\tconsole.log(a);\n\treturn a < 0.5;\n}\nmodule.exports = {\n\tcolorIsLight\n};\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/client/colors.js\n ** module id = 6\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./src/client/colors.js?");

/***/ },
/* 7 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nlet img = document.createElement(\"img\"),\n    backgroundTransparent = document.createElement('canvas').getContext('2d'),\n    scala = 0.3;\nimg.addEventListener('load', function () {\n\tlet width = backgroundTransparent.canvas.width = this.width * scala,\n\t    height = backgroundTransparent.canvas.height = this.height * scala;\n\tbackgroundTransparent.drawImage(this, 0, 0, this.width, this.height, 0, 0, width, height);\n});\nbackgroundTransparent.canvas.img = img;\nimg.src = '/assets/images/transparent.png';\nmodule.exports = {\n\tHEIGHT_DEF: 60,\n\tWIDTH_DEF: 20,\n\tSCALE_DEF: 10,\n\tTRANSPARENT_IMG: backgroundTransparent.canvas,\n\tTRANSPARENT_COLOR: 'rgba(0,0,0,0)',\n\tTRANSPARENT_COLOR_VALUE: '',\n\tSIZE_POINTER_DEF: 1,\n\tCOLOR_POINTER_PREW_DEF: 'rgba(255,255,255,0.6)',\n\tSECOND_COLOR_POINTER_PREW_DEF: 'rgba(0,0,0,0.2)',\n\tRIGHT_CLICK: 3,\n\tLEFT_CLICK: 1,\n\tMIDDLE_CLICK: 2,\n\tPALETTE: 'Palette',\n\tFRAMES: 'Frames'\n};\nmodule.exports.colors = {\n\tDEFAULT_COLOR: '#000',\n\tRGBA: 'rgba',\n\tRGBA_PER: 'rgbaPer',\n\tABBR_HEX: 'abbrHex',\n\tHEX: 'hex',\n\tHSL: 'hsl',\n\tNAC: 'NaC'\n};\nmodule.exports.palette = __webpack_require__(8);\nmodule.exports.panels = __webpack_require__(9);\nmodule.exports.events = __webpack_require__(10);\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/client/constants/index.js\n ** module id = 7\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./src/client/constants/index.js?");

/***/ },
/* 8 */
/***/ function(module, exports) {

	eval("'use strict';\n\nmodule.exports = {\n\tSIZE_COLOR_BLOCK: 20,\n\tCHANGE_COLOR: 'changeColor'\n};\nmodule.exports.picker = {\n\tR: 'R',\n\tG: 'G',\n\tB: 'B',\n\tA: 'A'\n};\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/client/constants/palette.js\n ** module id = 8\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./src/client/constants/palette.js?");

/***/ },
/* 9 */
/***/ function(module, exports) {

	eval("'use strict';\n\nmodule.exports = {\n\tSNAP: 'snap',\n\tFLOAT: 'float',\n\tT: 'T', // top\n\tB: 'B', // bottom\n\tL: 'L', // left\n\tR: 'R', // right\n\tTL: 'TL', // top left\n\tTR: 'TR', // top right\n\tBL: 'BL', // bottom left\n\tBR: 'BR', // bottom right\n\tM: 'M' // middle\n};\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/client/constants/panels.js\n ** module id = 9\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./src/client/constants/panels.js?");

/***/ },
/* 10 */
/***/ function(module, exports) {

	eval("'use strict';\n\nmodule.exports = {\n\tCHANGE_SPRITE: 'changeSprite',\n\n\tADD_FRAME: 'addFrame',\n\tDELETE_FRAME: 'deleteFrame',\n\tUPDATE_FRAME: 'updateFrame',\n\tSELECT_FRAME: 'selectFrame',\n\n\tADD_LAYER: 'addLayer',\n\tDELETE_LAYER: 'deleteLayer',\n\tUPDATE_LAYER: 'updateLayer',\n\tSELECT_LAYER: 'selectLayer',\n\n\tSELECT_TOOL: 'selectTool',\n\n\tRESIZE_PANEL: 'resizePanel'\n};\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/client/constants/events.js\n ** module id = 10\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./src/client/constants/events.js?");

/***/ },
/* 11 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nconst make = __webpack_require__(5).make,\n      Editor = __webpack_require__(12),\n      Preview = __webpack_require__(19),\n      Palette = __webpack_require__(22),\n      Frames = __webpack_require__(27),\n      Info = __webpack_require__(29),\n      Tools = __webpack_require__(30),\n      Layers = __webpack_require__(31),\n      bucket = __webpack_require__(33),\n      eraser = __webpack_require__(35),\n      pick = __webpack_require__(36),\n      pencil = __webpack_require__(37);\n\nwindow.onload = () => {\n\twindow.Editor = Editor;\n\t// panels\n\tPreview();\n\tTools();\n\tFrames();\n\tPalette();\n\t//Info();\n\tLayers();\n\n\t//tools\n\tpencil();\n\tbucket();\n\teraser();\n\tpick();\n\n\t//init\n\tEditor.init();\n};\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/client/main.js\n ** module id = 11\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./src/client/main.js?");

/***/ },
/* 12 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nvar _require = __webpack_require__(7);\n\nconst SCALE_DEF = _require.SCALE_DEF;\nconst WIDTH_DEF = _require.WIDTH_DEF;\nconst HEIGHT_DEF = _require.HEIGHT_DEF;\nconst PALETTE = _require.PALETTE;\nconst FRAMES = _require.FRAMES;\n\nvar _require$panels = __webpack_require__(7).panels;\n\nconst SNAP = _require$panels.SNAP;\nconst FLOAT = _require$panels.FLOAT;\nconst B = _require$panels.B;\nconst L = _require$panels.L;\nconst R = _require$panels.R;\nconst TL = _require$panels.TL;\nconst TR = _require$panels.TR;\nconst BL = _require$panels.BL;\nconst BR = _require$panels.BR;\n\nvar _require$events = __webpack_require__(7).events;\n\nconst CHANGE_SPRITE = _require$events.CHANGE_SPRITE;\nconst ADD_FRAME = _require$events.ADD_FRAME;\nconst SELECT_FRAME = _require$events.SELECT_FRAME;\nconst RESIZE_PANEL = _require$events.RESIZE_PANEL;\nconst Canvas = __webpack_require__(13);\nconst Sprite = __webpack_require__(15);\nconst Vector = __webpack_require__(14);\n\nlet scale = SCALE_DEF,\n    Editor = {\n\tpanels: {},\n\tget palette() {\n\t\treturn this.getPanel(PALETTE);\n\t},\n\tget frames() {\n\t\treturn this.getPanel(FRAMES);\n\t},\n\t// panel area\n\taddPanel(panel) {\n\t\tthis.panels[panel.name] = panel.appendTo(document.body);\n\t},\n\tonResizePanel(type) {\n\t\tif (type === L || type === TL || type === BL) {\n\t\t\tthis.onResizeL(arguments[1]);\n\t\t} else if (type === R || type == TR) {\n\t\t\tthis.onResizeR(arguments[1]);\n\t\t}\n\t},\n\tonResizeL(width) {\n\t\tlet panels = Object.keys(this.panels);\n\t\tfor (let i = 0; i < panels.length; i++) {\n\t\t\tlet panel = this.panels[panels[i]];\n\t\t\tif (panel.type === SNAP && (panel.position === L || panel.position === BL || panel.position === TL)) {\n\t\t\t\tpanel.changeWidth(width);\n\t\t\t}\n\t\t}\n\t},\n\tonResizeR(height) {\n\t\tlet panels = Object.keys(this.panels);\n\t\tfor (let i = 0; i < panels.length; i++) {\n\t\t\tlet panel = this.panels[panels[i]];\n\t\t\tif (panel.type === SNAP && (panel.position === R || panel.position === BR || panel.position === TR)) {\n\t\t\t\tpanel.changeWidth(height);\n\t\t\t}\n\t\t}\n\t},\n\tgetPanel(name) {\n\t\treturn this.panels[name];\n\t},\n\tinitPanels() {\n\t\tlet left, right;\n\t\tfor (let i = 0, panels = Object.keys(this.panels); i < panels.length; i++) {\n\t\t\tlet panel = this.panels[panels[i]];\n\t\t\tif (left && panel.isLeft()) {\n\t\t\t\tpanel.init(left.width, left.height);\n\t\t\t} else if (right && panel.isRight()) {\n\t\t\t\tpanel.init(right.width, right.height);\n\t\t\t} else {\n\t\t\t\tpanel.init();\n\t\t\t}\n\n\t\t\tif (!left && panel.isLeft()) {\n\t\t\t\tleft = {\n\t\t\t\t\twidth: panel.width,\n\t\t\t\t\theight: 100 - panel.heightPerc\n\t\t\t\t};\n\t\t\t} else if (!right && panel.isRight()) {\n\t\t\t\tright = {\n\t\t\t\t\twidth: panel.width,\n\t\t\t\t\theight: 100 - panel.heightPerc\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t\t//this.events.on(RESIZE_PANEL + '.editor', this.onResizePanel, this);\n\t},\n\taddTool(tool) {\n\t\tthis.panels.Tools.addTool(tool);\n\t},\n\tevents: __webpack_require__(18),\n\tinit() {\n\n\t\tthis.initPanels();\n\t\tthis.sprite = new Sprite(WIDTH_DEF, HEIGHT_DEF);\n\t\tlet index = 0;\n\t\tthis.canvas = new Canvas(this.sprite.frames[index].layers[0], SCALE_DEF, new Vector(Math.round(window.innerWidth / 4), Math.round(window.innerHeight / 16)));\n\t\tconsole.timeEnd('canvas');\n\t}\n};\nmodule.exports = Editor;\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/client/Editor/index.js\n ** module id = 12\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./src/client/Editor/index.js?");

/***/ },
/* 13 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nconst Vector = __webpack_require__(14);\n\nvar _require = __webpack_require__(5);\n\nconst imageSmoothingDisabled = _require.imageSmoothingDisabled;\nconst make = _require.make;\n\nvar _require2 = __webpack_require__(7);\n\nconst SCALE_DEF = _require2.SCALE_DEF;\nconst SIZE_POINTER_DEF = _require2.SIZE_POINTER_DEF;\nconst MIDDLE_CLICK = _require2.MIDDLE_CLICK;\nconst TRANSPARENT_IMG = _require2.TRANSPARENT_IMG;\nconst SECOND_COLOR_POINTER_PREW_DEF = _require2.SECOND_COLOR_POINTER_PREW_DEF;\nconst RIGHT_CLICK = _require2.RIGHT_CLICK;\nconst LEFT_CLICK = _require2.LEFT_CLICK;\nconst COLOR_POINTER_PREW_DEF = _require2.COLOR_POINTER_PREW_DEF;\n\nvar _require$events = __webpack_require__(7).events;\n\nconst SELECT_FRAME = _require$events.SELECT_FRAME;\nconst SELECT_LAYER = _require$events.SELECT_LAYER;\n// TODO: create the prototype of the artboard\n\nlet artboard = {\n\tget width() {\n\t\treturn this.layer.width * this.scale;\n\t},\n\tget height() {\n\t\treturn this.layer.height * this.scale;\n\t}\n};\nfunction Canvas(layer, scale, cord, sizePointer) {\n\tthis.artboard = artboard;\n\tthis.parent = document.body;\n\tthis.artboard.scale = scale || SCALE_DEF;\n\tthis.artboard.layer = layer;\n\tthis.artboard.cord = cord;\n\tthis.sizePointer = (sizePointer || SIZE_POINTER_DEF) * scale;\n\tthis.init();\n}\nCanvas.prototype = {\n\tcontructor: Canvas,\n\tget tool() {\n\t\treturn Editor.panels.Tools.currentTool;\n\t}\n};\nCanvas.prototype.init = function () {\n\tthis.background = make('canvas', { parent: this.parent, className: 'background' }).getContext('2d');\n\tthis.main = make('canvas', { parent: this.parent, className: 'canvas' }).getContext('2d');\n\tthis.preview = make('canvas', { parent: this.parent, className: 'preview' }).getContext('2d');\n\n\tTRANSPARENT_IMG.img.addEventListener('load', this.paintBackground.bind(this));\n\n\t$(this.preview.canvas).on('mousewheel.canvas', this.onScroll.bind(this));\n\t$(this.preview.canvas).on('mousedown.canvas', this.onMouseDown.bind(this));\n\t$(this.preview.canvas).on('mouseup.canvas', this.onMouseUp.bind(this));\n\t$(this.preview.canvas).on('mousemove.canvas', this.onMouseMove.bind(this));\n\n\t//Editor.events.on('paint.canvas', this.drawAt, this);\n\n\t$(window).on('resize.canvas', this.resize.bind(this));\n\tthis.resize();\n};\nCanvas.prototype.resize = function () {\n\tthis.background.canvas.width = this.main.canvas.width = this.preview.canvas.width = window.innerWidth;\n\tthis.background.canvas.height = this.main.canvas.height = this.preview.canvas.height = window.innerHeight;\n\n\timageSmoothingDisabled(this.main);\n\timageSmoothingDisabled(this.preview);\n\timageSmoothingDisabled(this.background);\n\tthis.cleanPrev();\n\tthis.cleanMain();\n\tthis.cleanBackground();\n\tthis.paintBackground();\n\n\tthis.paintMain();\n};\nCanvas.prototype.changeLayer = function (layer) {\n\tthis.artboard.layer = layer;\n\tthis.paintMain();\n};\nCanvas.prototype.onScroll = function (evt) {\n\tlet diff = 1;\n\tif (evt.deltaY > 0) {\n\t\tdiff = -1; //0.9;\n\t} else if (evt.deltaY < 0) {\n\t\t\tdiff = 1; //1.1;\n\t\t}\n\tthis.scaleTo(this.artboard.scale + diff);\n\t//this.scaleTo(artboard.scale * diff);\n};\nCanvas.prototype.scaleTo = function (scale) {\n\t// TODO: stabilize speed of scaling\n\tif (scale < 1) {\n\t\treturn;\n\t}\n\tthis.sizePointer = this.sizePointer / this.artboard.scale * scale;\n\tthis.artboard.scale = scale;\n\tthis.cleanPrev();\n\n\t// TODO: scale from center\n\tthis.paintMain();\n};\nCanvas.prototype.onMouseDown = function (evt) {\n\tevt.preventDefault();\n\tif (evt.which === LEFT_CLICK) {\n\t\tthis.mouseDown = true;\n\t\tthis.cleanPrev();\n\t\tthis.tool.onMouseDown(evt);\n\t} else if (evt.which === MIDDLE_CLICK) {\n\t\tevt.preventDefault();\n\t\tthis.drag = true;\n\t\tthis.cleanPrev();\n\t} else if (evt.which === RIGHT_CLICK) {\n\t\tthis.mouseDown = true;\n\t\tthis.cleanPrev();\n\t\tthis.tool.onMouseDown(evt);\n\t}\n\treturn false;\n};\nCanvas.prototype.onMouseUp = function (evt) {\n\tevt.preventDefault();\n\tif (evt.which === LEFT_CLICK) {\n\t\tthis.mouseDown = false;\n\t\tthis.tool.onMouseUp(evt);\n\t} else if (evt.which === MIDDLE_CLICK) {\n\t\tthis.drag = false;\n\t} else if (evt.which === RIGHT_CLICK) {\n\t\tthis.mouseDown = false;\n\t\tthis.cleanPrev();\n\t\tthis.tool.onMouseUp(evt);\n\t}\n\treturn false;\n};\nCanvas.prototype.onMouseMove = function (evt) {\n\tevt.preventDefault();\n\tif (this.drag) {\n\t\tlet diffX = evt.clientX - this.lastDragX;\n\t\tlet diffY = evt.clientY - this.lastDragY;\n\t\tthis.lastDragX = evt.clientX;\n\t\tthis.lastDragY = evt.clientY;\n\t\tthis.shiftDiff(new Vector(isNaN(diffX) ? 0 : diffX, diffY = isNaN(diffY) ? 0 : diffY));\n\t} else {\n\t\tif (this.mouseDown) {\n\t\t\tthis.tool.onMouseMove(evt);\n\t\t} else {\n\t\t\tthis.drawPreview(evt);\n\t\t}\n\t}\n\treturn false;\n};\nCanvas.prototype.shiftDiff = function (cord) {\n\tthis.artboard.cord.sum(cord);\n\tthis.paintMain();\n};\nCanvas.prototype.calculatePosition = function (cord) {\n\t// TODO: Add support many sizes pointer\n\tlet outside = false,\n\t    diffTemp,\n\t    relativeTemp,\n\t    newCord = new Vector();\n\n\tnewCord.x = Math.floor((cord.x - this.artboard.cord.x) / this.artboard.scale);\n\tnewCord.y = Math.floor((cord.y - this.artboard.cord.y) / this.artboard.scale);\n\treturn {\n\t\tcord: newCord\n\t};\n};\nCanvas.prototype.cordLayerToPaint = function (cord) {\n\tlet newCord = new Vector(cord.x * this.artboard.scale + this.artboard.cord.x, cord.y * this.artboard.scale + this.artboard.cord.y);\n\treturn newCord;\n};\nCanvas.prototype.previewAt = function (cord, color) {\n\tcord = this.cordLayerToPaint(cord);\n\tthis.preview.fillStyle = color;\n\tthis.preview.clearRect(cord.x, cord.y, this.sizePointer, this.sizePointer);\n\tthis.main.clearRect(cord.x, cord.y, this.sizePointer, this.sizePointer);\n\tthis.preview.fillRect(cord.x, cord.y, this.sizePointer, this.sizePointer);\n};\nCanvas.prototype.drawPreview = function (evt) {\n\tthis.cleanPrev();\n\tlet temp = new Vector(Math.floor((evt.clientX - this.artboard.cord.x) / this.artboard.scale), Math.floor((evt.clientY - this.artboard.cord.y) / this.artboard.scale));\n\tlet cord = new Vector(temp.x * this.artboard.scale + this.artboard.cord.x, temp.y * this.artboard.scale + this.artboard.cord.y);\n\tthis.preview.strokeStyle = COLOR_POINTER_PREW_DEF;\n\tthis.preview.fillStyle = Editor.getPanel('Tools').getPrimaryColor(); //SECOND_COLOR_POINTER_PREW_DEF;\n\tthis.preview.strokeRect(cord.x - 1, cord.y - 1, this.sizePointer + 2, this.sizePointer + 2);\n\tthis.preview.fillRect(cord.x, cord.y, this.sizePointer, this.sizePointer);\n};\nCanvas.prototype.paintMain = function () {\n\tthis.cleanMain();\n\tthis.paintBackground();\n\timageSmoothingDisabled(this.main);\n\t// TODO: create get for \"this.artboard.layer.width * this.artboard.scale\" and \"this.artboard.layer.height * this.artboard.scale\"\n\tthis.main.drawImage(this.artboard.layer.context.canvas, 0, 0, this.artboard.layer.width, this.artboard.layer.height, this.artboard.cord.x, this.artboard.cord.y, this.artboard.layer.width * this.artboard.scale, this.artboard.layer.height * this.artboard.scale);\n};\nCanvas.prototype.paintBackground = function () {\n\tthis.cleanBackground();\n\timageSmoothingDisabled(this.background);\n\tlet pattern = this.background.createPattern(TRANSPARENT_IMG, \"repeat\");\n\tthis.background.rect(this.artboard.cord.x, this.artboard.cord.y, this.artboard.layer.width * this.artboard.scale, this.artboard.layer.height * this.artboard.scale);\n\tthis.background.fillStyle = pattern;\n\tthis.background.fill();\n};\nCanvas.prototype.paintAt = function (cord, color) {\n\tcord = this.cordLayerToPaint(cord);\n\tthis.main.fillStyle = color;\n\tthis.main.clearRect(cord.x, cord.y, this.sizePointer, this.sizePointer);\n\tthis.main.fillRect(cord.x, cord.y, this.sizePointer, this.sizePointer);\n};\nCanvas.prototype.drawAt = function (cord, color) {\n\tthis.main.fillStyle = color;\n\tthis.main.clearRect(cord.x, cord.y, this.sizePointer, this.sizePointer);\n\tthis.main.fillRect(cord.x, cord.y, this.sizePointer, this.sizePointer);\n};\nCanvas.prototype.cleanMain = function () {\n\tthis.main.clearRect(0, 0, this.main.canvas.width, this.main.canvas.height);\n};\nCanvas.prototype.cleanBackground = function () {\n\tthis.background.clearRect(0, 0, this.background.canvas.width, this.background.canvas.height);\n};\nCanvas.prototype.cleanPrev = function () {\n\tthis.preview.clearRect(0, 0, this.preview.canvas.width, this.preview.canvas.height);\n};\n\nmodule.exports = Canvas;\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/client/prototypes/Canvas.js\n ** module id = 13\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./src/client/prototypes/Canvas.js?");

/***/ },
/* 14 */
/***/ function(module, exports) {

	eval("'use strict';\n\nfunction Vector(x, y) {\n\tthis.x = x || 0;\n\tthis.y = y || 0;\n}\n\nVector.prototype.less = function (vector) {\n\tif (arguments.length == 2) {\n\t\tvector = new Vector(arguments[0], arguments[1]);\n\t}\n\tthis.x -= vector.x;\n\tthis.y -= vector.y;\n\treturn this;\n};\nVector.prototype.sum = function (vector) {\n\tif (arguments.length == 2) {\n\t\tvector = new Vector(arguments[0], arguments[1]);\n\t}\n\tthis.x += vector.x;\n\tthis.y += vector.y;\n\treturn this;\n};\nVector.prototype.diffAbs = function (vector) {\n\treturn this.diff(vector, true);\n};\nVector.prototype.diff = function (vector, abs) {\n\tlet x = this.x - vector.x,\n\t    y = this.y - vector.y;\n\treturn {\n\t\tx: abs ? Math.abs(x) : x,\n\t\ty: abs ? Math.abs(y) : y,\n\t\tsx: this.x < vector.x ? 1 : -1,\n\t\tsy: this.y < vector.y ? 1 : -1\n\t};\n};\nVector.prototype.clone = function () {\n\treturn new Vector(this.x, this.y);\n};\nVector.prototype.importantDiff = function (vector) {\n\tlet diff = this.diff(vector, true);\n\treturn diff.x > 1 || diff.y > 1;\n};\nmodule.exports = Vector;\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/client/prototypes/Vector.js\n ** module id = 14\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./src/client/prototypes/Vector.js?");

/***/ },
/* 15 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nconst Frame = __webpack_require__(16);\n\nvar _require$events = __webpack_require__(7).events;\n\nconst ADD_FRAME = _require$events.ADD_FRAME;\nconst DELETE_FRAME = _require$events.DELETE_FRAME;\nconst UPDATE_FRAME = _require$events.UPDATE_FRAME;\nconst SELECT_FRAME = _require$events.SELECT_FRAME;\n\nfunction Sprite(width, height) {\n\tthis.width = width;\n\tthis.height = height;\n\tthis.frames = [];\n\tthis.frames.push(new Frame(this, 0, true));\n\tEditor.getPanel('Preview').selectSprite(this);\n}\nSprite.prototype.getFrame = function (index) {\n\treturn this.frames[index];\n};\nSprite.prototype.deleteFrame = function (index) {\n\tif (this.frames.length == 1) {\n\t\t// TODO: create alert\n\t\talert('can\\'t delete last frames');\n\t\treturn false;\n\t} else {\n\t\tlet frameDelete = this.frames.splice(index, 1)[0];\n\t\tthis.reIndexing();\n\t\tif (frameDelete && frameDelete.index == Editor.canvas.artboard.layer.frame.index) {\n\t\t\tif (this.frames.length <= index) {\n\t\t\t\tindex--;\n\t\t\t}\n\t\t\tthis.frames[index].select();\n\t\t}\n\t\treturn true;\n\t}\n};\n\nSprite.prototype.reIndexing = function () {\n\tfor (let i = 0; i < this.frames.length; i++) {\n\t\tthis.frames[i].index = i;\n\t}\n};\nSprite.prototype.paint = function () {};\nSprite.prototype.selectFrame = function (frame) {\n\tif (Number.isInteger(frame)) {\n\t\tframe = this.frames[frame];\n\t} else if (!(frame instanceof Frame)) {\n\t\tthrow new Error();\n\t}\n\tframe.select();\n};\nSprite.prototype.addFrame = function (frameClone, newIndex) {\n\tlet clone = false,\n\t    newFrame;\n\tif (frameClone instanceof Frame) {\n\t\tclone = true;\n\t} else if (Number.isInteger(frameClone)) {\n\t\tclone = true;\n\t\tframeClone = this.frames[frameClone];\n\t}\n\tif (!Number.isInteger(newIndex)) {\n\t\tnewIndex = clone ? frameClone.index + 1 : this.frames.length;\n\t}\n\tnewFrame = clone ? frameClone.clone() : new Frame(this, newIndex, true);\n\tif (clone) {\n\t\tnewFrame.index = newIndex;\n\t\tnewFrame.layers = frameClone.cloneLayers(newFrame);\n\t}\n\n\tlet tempFrames = this.frames.splice(newIndex);\n\n\tif (tempFrames.length !== 0) {\n\t\tthis.frames = this.frames.concat([newFrame], tempFrames);\n\t\tthis.reIndexing();\n\t} else {\n\t\tthis.frames.push(newFrame);\n\t}\n\tif (clone) {\n\t\tnewFrame.init();\n\t}\n\tnewFrame.select();\n\tnewFrame.paint();\n\treturn newFrame;\n};\n\nmodule.exports = Sprite;\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/client/prototypes/Sprite.js\n ** module id = 15\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./src/client/prototypes/Sprite.js?");

/***/ },
/* 16 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nvar _require = __webpack_require__(5);\n\nconst imageSmoothing = _require.imageSmoothing;\n\nvar _require2 = __webpack_require__(7);\n\nconst TRANSPARENT_COLOR = _require2.TRANSPARENT_COLOR;\nconst Layer = __webpack_require__(17);\n\nconst UPDATE_FRAME = __webpack_require__(7).events.UPDATE_FRAME;\n\nfunction Frame(sprite, index, status, layers, clone) {\n\tthis.sprite = sprite;\n\tthis.index = index;\n\tthis.status = status;\n\tthis.layers = layers || [new Layer(this, 0)];\n\tif (!clone) {\n\t\tthis.init();\n\t}\n}\nFrame.prototype = {\n\tconstructor: Frame,\n\tget canvas() {\n\t\treturn Editor.canvas;\n\t},\n\tget imageData() {\n\t\treturn this.context.getImageData(0, 0, this.sprite.width, this.sprite.height);\n\t},\n\tget width() {\n\t\treturn this.sprite.width;\n\t},\n\tget height() {\n\t\treturn this.sprite.height;\n\t}\n};\nFrame.prototype.init = function () {\n\tthis.context = document.createElement('canvas').getContext('2d');\n\timageSmoothing(this.context, false);\n\tthis.context.canvas.width = this.sprite.width;\n\tthis.context.canvas.height = this.sprite.height;\n\tEditor.getPanel('Frames').addPreview(this);\n\tthis.paint(true);\n};\nFrame.prototype.deleteLayer = function (index) {\n\tif (this.layers.length == 1) {\n\t\t// TODO: create alert\n\t\talert('can\\'t delete last frames');\n\t\treturn false;\n\t} else {\n\t\tlet layerDelete = this.layers.splice(index, 1)[0];\n\t\tthis.reIndexing();\n\t\tif (layerDelete && layerDelete.index == Editor.canvas.artboard.layer.index) {\n\t\t\tif (this.layers.length <= index) {\n\t\t\t\tindex--;\n\t\t\t}\n\t\t\tthis.layers[index].select();\n\t\t}\n\t\tthis.paint();\n\t\treturn true;\n\t}\n};\nFrame.prototype.delete = function () {\n\tif (this.sprite.deleteFrame(this.index)) {\n\t\tEditor.getPanel('Frames').deletePreview(this.index);\n\t}\n};\nFrame.prototype.reIndexing = function () {\n\tfor (let i = 0; i < this.layers.length; i++) {\n\t\tthis.layers[i].index = i;\n\t}\n};\nFrame.prototype.cloneLayers = function (frame) {\n\tlet layers = [];\n\tframe = frame || this;\n\tfor (let i = 0; i < this.layers.length; i++) {\n\t\tlet newLayer = this.layers[i].clone(frame);\n\t\tlayers.push(newLayer);\n\t}\n\treturn layers;\n};\nFrame.prototype.selectLayer = function (layer) {\n\tif (Number.isInteger(layer)) {\n\t\tlayer = this.frames[layer];\n\t} else if (!(layer instanceof Layer)) {\n\t\tthrow new Error();\n\t}\n\tlayer.select();\n};\nFrame.prototype.select = function () {\n\tEditor.getPanel('Frames').selectFrame(this.index);\n\tthis.layers[0].select();\n};\nFrame.prototype.clone = function (sprite) {\n\tsprite = sprite || this.sprite;\n\treturn new Frame(sprite, this.index + 1, this.status, this.cloneLayers(), true);\n};\nFrame.prototype.addLayer = function (layerClone, newIndex) {\n\tlet clone = false,\n\t    newLayer;\n\tif (layerClone instanceof Layer) {\n\t\tclone = true;\n\t} else if (Number.isInteger(layerClone)) {\n\t\tclone = true;\n\t\tlayerClone = this.layers[layerClone];\n\t}\n\tif (!Number.isInteger(newIndex)) {\n\t\tnewIndex = clone ? layerClone.index + 1 : this.layers.length;\n\t}\n\tnewLayer = clone ? layerClone.clone() : new Layer(this, newIndex, true);\n\tif (clone) {\n\t\tnewLayer.index = newIndex;\n\t\t//newLayer.context = layerClone.cloneContext();\n\t}\n\n\tlet tempLayers = this.layers.splice(newIndex);\n\n\tif (tempLayers.length !== 0) {\n\t\tthis.layers = this.layers.concat([newLayer], tempLayers);\n\t\tthis.reIndexing();\n\t} else {\n\t\tthis.layers.push(newLayer);\n\t}\n\tif (clone) {\n\t\tnewLayer.init();\n\t}\n\tnewLayer.select();\n\tEditor.getPanel('Layers').updateLayers();\n\treturn newLayer;\n};\nFrame.prototype.getIMG = function () {\n\tlet image = document.createElement('img');\n\timage.src = this.context.canvas.toDataURL();\n\treturn image;\n};\nFrame.prototype.clean = function () {\n\tthis.context.clearRect(0, 0, this.context.canvas.width, this.context.canvas.height);\n};\nFrame.prototype.paint = function (init) {\n\tthis.clean();\n\tfor (let i = this.layers.length - 1; -1 < i; i--) {\n\t\tlet layer = this.layers[i];\n\t\tthis.context.drawImage(layer.context.canvas, 0, 0);\n\t}\n\tEditor.getPanel('Frames').paintFrame(this.index);\n\tthis.sprite.paint();\n};\nFrame.prototype.generatePreview = function (scale) {\n\treturn this.context;\n};\nmodule.exports = Frame;\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/client/prototypes/Frame.js\n ** module id = 16\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./src/client/prototypes/Frame.js?");

/***/ },
/* 17 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nvar _require = __webpack_require__(5);\n\nconst imageSmoothing = _require.imageSmoothing;\n\nvar _require2 = __webpack_require__(7);\n\nconst TRANSPARENT_COLOR = _require2.TRANSPARENT_COLOR;\n\nconst UPDATE_LAYER = __webpack_require__(7).events.UPDATE_LAYER;\n//console.log(new Frame(), Frame.prototype);\n\n\nfunction Layer(frame, index, status, context) {\n\tthis.frame = frame;\n\tthis.index = index;\n\tthis.status = status;\n\tthis.context = context || document.createElement('canvas').getContext('2d');\n\tif (!context) {\n\t\tthis.init();\n\t}\n}\nLayer.prototype = {\n\tconstructor: Layer,\n\tget canvas() {\n\t\treturn Editor.canvas;\n\t},\n\tget imageData() {\n\t\treturn this.context.getImageData(0, 0, this.sprite.width, this.sprite.height);\n\t},\n\tget width() {\n\t\treturn this.frame.width;\n\t},\n\tget height() {\n\t\treturn this.frame.height;\n\t},\n\tget sprite() {\n\t\treturn this.frame.sprite;\n\t}\n};\nLayer.prototype.init = function () {\n\tlet tempData = this.context.getImageData(0, 0, this.context.canvas.width, this.context.canvas.height);\n\timageSmoothing(this.context, false);\n\tthis.context.canvas.width = this.width;\n\tthis.context.canvas.height = this.height;\n\tthis.context.putImageData(tempData, 0, 0);\n\tEditor.getPanel('Layers').addPreview(this);\n};\nLayer.prototype.delete = function () {\n\tif (this.frame.deleteLayer(this.index)) {\n\t\tEditor.getPanel('Layers').deletePreview(this.index);\n\t}\n};\nLayer.prototype.getIMG = function () {\n\tlet image = document.createElement('img');\n\timage.src = this.context.canvas.toDataURL();\n\treturn image;\n};\nLayer.prototype.clone = function (frame) {\n\tframe = frame || this.frame;\n\treturn new Layer(frame, this.index, this.status, this.cloneContext());\n};\nLayer.prototype.select = function () {\n\tEditor.getPanel('Layers').selectLayer(this.index);\n\tEditor.canvas.changeLayer(this);\n};\nLayer.prototype.cloneContext = function () {\n\tlet clone = this.context.canvas.cloneNode().getContext('2d');\n\tclone.drawImage(this.context.canvas, 0, 0);\n\treturn clone;\n};\nLayer.prototype.validCord = function (cord) {\n\treturn cord.x >= 0 && cord.x < this.width && cord.y >= 0 && cord.y < this.height;\n};\nLayer.prototype.getColorPixel = function (cord) {\n\tlet color = this.context.getImageData(cord.x, cord.y, 1, 2);\n\n\treturn 'rgba(' + color.data[0] + ', ' + color.data[1] + ', ' + color.data[2] + ', ' + color.data[3] / 255 + ')';\n};\nLayer.prototype.paintAt = function (cord, color) {\n\tif (!this.validCord(cord)) {\n\t\treturn;\n\t}\n\tthis.context.fillStyle = color;\n\tthis.context.clearRect(cord.x, cord.y, 1, 1);\n\tthis.context.fillRect(cord.x, cord.y, 1, 1);\n\tthis.canvas.paintAt(cord, color);\n\tEditor.getPanel('Layers').paintLayer(this.index);\n\tthis.frame.paint();\n};\nLayer.prototype.paintStroke = function (listCords) {\n\tfor (let i = 0; i < listCords.length; i++) {\n\t\tthis.paintAt(listCords[i].cord, listCords[i].color);\n\t}\n\tthis.frame.paint();\n};\nLayer.prototype.generatePreview = function (scale) {\n\treturn this.context;\n};\nmodule.exports = Layer;\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/client/prototypes/Layer.js\n ** module id = 17\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./src/client/prototypes/Layer.js?");

/***/ },
/* 18 */
/***/ function(module, exports) {

	eval("'use strict';\n\nmodule.exports = {\n\t// _events : {},\n\t// on (name, handler, that) {\n\t// \tvar suffix = name.split('.')[1];\n\t// \tname = name.split('.')[0];\n\t// \tif (!hasVal(suffix)) {\n\t// \t\treturn console.error('Event error name');\n\t// \t}\n\t// \tif (!hasVal(this._events[name])) {\n\t// \t\tthis._events[name] = {};\n\t// \t}\n\t// \tif (!hasVal(this._events[name][suffix])) {\n\t// \t\tthis._events[name][suffix] = hasVal(that) ? handler.bind(that) : handler;\n\t// \t\treturn this;\n\t// \t}else {\n\t// \t\tconsole.error('Event wrong name');\n\t// \t}\n\t// },\n\t// off () {\n\t// \t// TODO: make off of events\n\t// },\n\t// fire (name, val) {\n\t// \tlet suffix = name.split('.')[1];\n\t// \tif (arguments.length > 2) {\n\t// \t\tval = Array.prototype.slice.call(arguments, 1);\n\t// \t}else if (arguments.length == 2) {\n\t// \t\tval = [val];\n\t// \t}\n\t// \tname = name.split('.')[0];\n\t// \tif (!hasVal(suffix) && hasVal(this._events[name])) {\n\t// \t\t// TODO: Change for a Object.keys\n\t// \t\tfor (let i in this._events[name]) {\n\t// \t\t\tthis._events[name][i](...val);\n\t// \t\t}\n\t// \t}else if (hasVal(this._events[name]) && hasVal(this._events[name][suffix])) {\n\t// \t\tthis._events[name][suffix](...val);\n\t// \t}\n\t// }\n};\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/client/Editor/events.js\n ** module id = 18\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./src/client/Editor/events.js?");

/***/ },
/* 19 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nconst Panel = __webpack_require__(20);\n\nvar _require = __webpack_require__(5);\n\nconst imageSmoothingDisabled = _require.imageSmoothingDisabled;\nconst make = _require.make;\n\nvar _require$events = __webpack_require__(7).events;\n\nconst CHANGE_SPRITE = _require$events.CHANGE_SPRITE;\nconst DELETE_FRAME = _require$events.DELETE_FRAME;\n\nvar _require$panels = __webpack_require__(7).panels;\n\nconst SNAP = _require$panels.SNAP;\nconst FLOAT = _require$panels.FLOAT;\nconst B = _require$panels.B;\nconst L = _require$panels.L;\nconst R = _require$panels.R;\nconst TL = _require$panels.TL;\nconst TR = _require$panels.TR;\nconst BL = _require$panels.BL;\nconst BR = _require$panels.BR;\n\nvar _require2 = __webpack_require__(7);\n\nconst TRANSPARENT_IMG = _require2.TRANSPARENT_IMG;\nconst Preview = new Panel('Preview', SNAP, undefined, 230, 40, TR);\nlet time = 0.5 * 1000,\n    loop,\n    index = 0,\n    ctx;\n\nPreview.mainInit = function () {\n\tthis.background = make(['canvas', { className: 'background' }]).getContext('2d');\n\tthis.preview = make(['canvas', { className: 'preview' }]).getContext('2d');\n\n\tthis.contentPreview = make(['div', { parent: this.el, className: 'content-preview' }, this.background.canvas, this.preview.canvas]);\n\n\t$(this.preview.canvas).on('click.animator', this.changeStatus.bind(this));\n\tthis.start();\n};\nPreview.paintBackground = function () {\n\tlet pattern = this.background.createPattern(TRANSPARENT_IMG, \"repeat\");\n\tthis.background.rect(0, 0, this.background.canvas.width, this.background.canvas.height);\n\tthis.background.fillStyle = pattern;\n\tthis.background.fill();\n};\nPreview.selectFrame = function (type) {\n\tindex = 0;\n};\nPreview.selectSprite = function (sprite) {\n\tthis.scale;\n\tif (sprite.width > sprite.height) {\n\t\tthis.scale = this.contentPreview.clientWidth / sprite.width;\n\t} else {\n\t\tthis.scale = this.contentPreview.clientWidth / sprite.height;\n\t}\n\tthis.background.canvas.width = this.preview.canvas.width = sprite.width * this.scale;\n\tthis.background.canvas.height = this.preview.canvas.height = sprite.height * this.scale;\n\tthis.background.canvas.style.marginTop = this.preview.canvas.style.marginTop = (this.contentPreview.clientWidth - this.preview.canvas.height) / 2 + 'px';\n\tthis.background.canvas.style.marginLeft = this.preview.canvas.style.marginLeft = (this.contentPreview.clientWidth - this.preview.canvas.width) / 2 + 'px';\n\tthis.start();\n\tthis.paintBackground();\n};\nPreview.start = function () {\n\tif (this.started) {\n\t\treturn;\n\t}\n\tthis.started = true;\n\tloop = setInterval(function () {\n\t\tPreview.loop();\n\t}, time);\n};\nPreview.changeStatus = function () {\n\tconsole.log(this.started);\n\tif (this.started) {\n\t\tthis.stop();\n\t} else {\n\t\tthis.start();\n\t}\n};\nPreview.stop = function () {\n\tthis.started = false;\n\tclearInterval(loop);\n};\nPreview.loop = function () {\n\tif (index >= Editor.sprite.frames.length - 1) {\n\t\tindex = -1;\n\t}\n\tindex++;\n\tthis.clean();\n\timageSmoothingDisabled(this.preview);\n\tthis.preview.drawImage(Editor.sprite.frames[index].context.canvas, 0, 0, this.preview.canvas.width, this.preview.canvas.height);\n};\nPreview.clean = function () {\n\tthis.preview.clearRect(0, 0, this.preview.canvas.width, this.preview.canvas.height);\n};\nmodule.exports = () => Editor.addPanel(Preview);\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/client/panels/Preview.js\n ** module id = 19\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./src/client/panels/Preview.js?");

/***/ },
/* 20 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nvar _require = __webpack_require__(5);\n\nconst createDiv = _require.createDiv;\nconst createSpan = _require.createSpan;\nconst defineGetter = _require.defineGetter;\nconst inheritanceObject = _require.inheritanceObject;\n\nvar _require$panels = __webpack_require__(7).panels;\n\nconst SNAP = _require$panels.SNAP;\nconst FLOAT = _require$panels.FLOAT;\nconst T = _require$panels.T;\nconst B = _require$panels.B;\nconst L = _require$panels.L;\nconst R = _require$panels.R;\nconst TL = _require$panels.TL;\nconst TR = _require$panels.TR;\nconst BL = _require$panels.BL;\nconst BR = _require$panels.BR;\nconst AppendObject = __webpack_require__(4);\nconst Vector = __webpack_require__(14);\nconst ResizeBar = __webpack_require__(21);\nconst resizeBars = [T, L, B, R, TL, BL, BR, TR];\n// IDEA: http://codepen.io/zz85/pen/gbOoVP?editors=001\nfunction Panel(name, type, position, width, height, snapType) {\n\tAppendObject.call(this, 'panel', 'panel-' + name.toLowerCase());\n\tthis.name = name;\n\tthis.type = type;\n\tthis.position = position || new Vector();\n\tthis.snapType = snapType;\n\tif (this.isLeft() || this.isRight()) {\n\t\tthis.width = width;\n\t\tthis.heightPerc = height;\n\t} else if (false) {\n\t\tthis.widthPerc = width;\n\t\tthis.height = height;\n\t} else {\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t}\n\t// for (let i = 0; i < resizeBars.length; i++) {\n\t// \tnew ResizeBar(this, resizeBars[i]);\n\t// }\n\t//console.trace(type);\n}\ninheritanceObject(Panel, AppendObject);\n\ndefineGetter(Panel.prototype, 'layers', function () {\n\treturn Editor.canvas.artboard.layer.frame.layers;\n});\ndefineGetter(Panel.prototype, 'frame', function () {\n\treturn Editor.canvas.artboard.layer.frame;\n});\ndefineGetter(Panel.prototype, 'sprite', function () {\n\treturn Editor.canvas.artboard.layer.frame.sprite;\n});\nPanel.prototype.heightDragBar = 20;\nPanel.prototype.init = function (width, height) {\n\tif (this.isLeft() || this.isRight()) {\n\t\tthis.heightPerc = height || this.heightPerc;\n\t\tthis.width = width || this.width;\n\t} else {\n\t\tthis.widthPerc = width || this.widthPerc;\n\t\tthis.height = height || this.height;\n\t}\n\n\tif (!hasVal(this.parent)) {\n\t\treturn console.error('parent undefined');\n\t}\n\tif (SNAP === this.type) {\n\t\tthis.setSnapPosition();\n\t} else {\n\t\tthis.changeSize(this.width, this.height, this.position.x, this.position.y);\n\t}\n\tthis.dragBar = createDiv('drag-bar');\n\tthis.dragBar.style.height = this.heightDragBar + 'px';\n\tthis.dragBar.appendChild(createSpan(this.name));\n\tthis.el.appendChild(this.dragBar);\n\t$(this.dragBar).on('mousedown.drag', this.onDragStart.bind(this));\n\n\tif (hasVal(this.mainInit)) {\n\t\tthis.mainInit();\n\t}\n};\nPanel.prototype.isLeft = function () {\n\treturn this.type === SNAP && this.snapType === TL || this.snapType === BL || this.snapType == L;\n};\nPanel.prototype.isRight = function () {\n\treturn this.type === SNAP && this.snapType === TR || this.snapType === BR || this.snapType == R;\n};\nPanel.prototype.isBottom = function () {\n\treturn this.type === SNAP && this.snapType === BL || this.snapType === BR || this.snapType == B;\n};\nPanel.prototype.isTop = function () {\n\treturn this.type === SNAP && this.snapType === TR || this.snapType === TL || this.snapType == T;\n};\nPanel.prototype.setSnapPosition = function () {\n\tthis.el.style.width = this.width + 'px';\n\tif (this.isLeft() || this.isRight()) {\n\t\tthis.height = window.innerHeight * (this.heightPerc / 100);\n\t\tthis.el.style.height = this.height + 'px';\n\t}\n\tif (this.isLeft()) {\n\t\tthis.el.style.left = '0';\n\t\tif (this.isBottom()) {\n\t\t\tthis.position.y = window.innerHeight - this.height;\n\t\t\tthis.el.style.top = this.position.y + 'px';\n\t\t} else {\n\t\t\tthis.position.y = this.el.style.top = 0;\n\t\t}\n\t} else if (this.isRight()) {\n\t\tthis.position.x = window.innerWidth - this.width;\n\t\tthis.el.style.left = this.position.x + 'px';\n\t\tif (this.isBottom()) {\n\t\t\tthis.position.y = window.innerHeight - this.height;\n\t\t\tthis.el.style.top = this.position.y + 'px';\n\t\t} else {\n\t\t\tthis.position.y = this.el.style.top = 0;\n\t\t}\n\t}\n};\nPanel.prototype.changePosition = function (position) {\n\tposition = position || this.position;\n\tlet stats = this.el.getBoundingClientRect();\n\tif (position.x < 0) {\n\t\tposition.x = 0;\n\t}\n\tif (position.x + stats.width > window.innerWidth) {\n\t\tposition.x = window.innerWidth - stats.width;\n\t}\n\tif (position.y < 0) {\n\t\tposition.y = 0;\n\t}\n\tif (position.y + stats.height > window.innerHeight) {\n\t\tposition.y = window.innerHeight - stats.height;\n\t}\n\tthis.position = position;\n\tthis.el.style.top = position.y + 'px';\n\tthis.el.style.left = position.x + 'px';\n};\nPanel.prototype.onDragStart = function (evt) {\n\tif (this.type === SNAP) {\n\t\treturn;\n\t}\n\tthis.offsetDrag = new Vector(evt.offsetX, evt.offsetY);\n\t$(window).off('mousemove.drag').on('mousemove.drag', this.onDrag.bind(this)).off('mouseup.drag').on('mouseup.drag', this.onDragEnd.bind(this));\n};\nPanel.prototype.onDragEnd = function (evt) {\n\t$(window).off('mousemove.drag').off('mouseup.drag');\n};\nPanel.prototype.onDrag = function (evt) {\n\tlet newPosition = new Vector(evt.clientX, evt.clientY);\n\tnewPosition.less(this.offsetDrag);\n\tthis.changePosition(newPosition);\n};\nPanel.prototype.onResizeStart = function (evt) {\n\t$(window).off('mousemove.resize').on('mousemove.resize', this.onResize.bind(this)).off('mouseup.resize').on('mouseup.resize', this.onResizeEnd.bind(this));\n\tthis.typeResize = evt.target.className.replace(/resize-bars|resize-corners/, '').trim();\n};\nPanel.prototype.onResize = function (evt) {\n\tif (this.type === SNAP) {\n\t\tif (this.typeResize == this.position) {\n\t\t\treturn;\n\t\t}\n\t}\n};\nPanel.prototype.changeSize = function (width, height, x, y) {\n\twidth = width || this.width;\n\theight = height || this.height;\n\tx = x || this.position.x;\n\ty = y || this.position.y;\n\n\tif (this.minWidth && height < this.minWidth) {\n\t\twidth = this.minWidth;\n\t}\n\tif (this.minHeight && height < this.minHeight) {\n\t\theight = this.minHeight;\n\t}\n\tif (x < 0) {\n\t\tx = 0;\n\t}\n\tif (y < 0) {\n\t\ty = 0;\n\t}\n\tif (x > window.innerWidth + width) {\n\t\tx = window.innerWidth - width;\n\t}\n\tif (y > window.innerHeight + height) {\n\t\ty = window.innerHeight - height;\n\t}\n\tthis.position = new Vector(x, y);\n\tthis.width = width;\n\tthis.height = height;\n\tthis.el.style.top = y + 'px';\n\tthis.el.style.left = x + 'px';\n\tthis.el.style.width = width + 'px';\n\tthis.el.style.height = height + 'px';\n};\nPanel.prototype.onResizeEnd = function (evt) {\n\t$(window).off('mousemove.resize').off('mouseup.resize');\n};\n\nmodule.exports = Panel;\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/client/prototypes/Panel.js\n ** module id = 20\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./src/client/prototypes/Panel.js?");

/***/ },
/* 21 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nvar _require = __webpack_require__(5);\n\nconst createDiv = _require.createDiv;\nconst createSpan = _require.createSpan;\nconst defineGetter = _require.defineGetter;\nconst inheritanceObject = _require.inheritanceObject;\n\nvar _require$panels = __webpack_require__(7).panels;\n\nconst SNAP = _require$panels.SNAP;\nconst FLOAT = _require$panels.FLOAT;\nconst T = _require$panels.T;\nconst B = _require$panels.B;\nconst L = _require$panels.L;\nconst R = _require$panels.R;\nconst TL = _require$panels.TL;\nconst TR = _require$panels.TR;\nconst BL = _require$panels.BL;\nconst BR = _require$panels.BR;\nconst resizeBars = [T, L, B, R];\nconst resizeCorners = [TL, BL, BR, TR];\nconst AppendObject = __webpack_require__(4);\nconst Vector = __webpack_require__(14);\n\nfunction ResizeBar(panel, type) {\n\tAppendObject.call(this, 'resize-bar', type);\n\tthis.type = type;\n\tthis.panel = panel;\n\tthis.appendTo(this.panel.el);\n\t$(this.el).on('mousedown.resize', this.onResizeStart.bind(this));\n}\ninheritanceObject(ResizeBar, AppendObject);\n\nResizeBar.prototype.onResizeStart = function (evt) {\n\tthis.isResized = true;\n\t$(window).off('mousemove.drag').on('mousemove.drag', this.onResize.bind(this)).off('mouseup.drag').on('mouseup.drag', this.onResizeEnd.bind(this));\n};\nResizeBar.prototype.onResize = function (evt) {\n\tlet cords = new Vector(evt.clientX, evt.clientY);\n\tif (resizeBars.indexOf(this.type) !== -1) {\n\t\tif (this.type == T) {\n\t\t\tthis.panel.changeSize(undefined, this.panel.position.y - cords.y + this.panel.height, undefined, cords.y);\n\t\t} else if (this.type == B) {\n\t\t\tthis.panel.changeSize(undefined, cords.y - this.panel.position.y);\n\t\t} else if (this.type == L) {\n\t\t\tthis.panel.changeSize(this.panel.position.x - cords.x + this.panel.width, undefined, cords.x, undefined);\n\t\t} else if (this.type == R) {\n\t\t\tthis.panel.changeSize(cords.x - this.panel.position.x, undefined);\n\t\t}\n\t} else {\n\t\tif (this.type == TL) {\n\t\t\tthis.panel.changeSize(this.panel.position.x - cords.x + this.panel.width, this.panel.position.y - cords.y + this.panel.height, cords.x, cords.y);\n\t\t} else if (this.type == TR) {\n\t\t\tthis.panel.changeSize(cords.x - this.panel.position.x, this.panel.position.y - cords.y + this.panel.height, undefined, cords.y);\n\t\t} else if (this.type == BR) {\n\t\t\tthis.panel.changeSize(cords.x - this.panel.position.x, cords.y - this.panel.position.y, undefined, undefined);\n\t\t} else if (this.type == BL) {\n\t\t\tthis.panel.changeSize(this.panel.position.x - cords.x + this.panel.width, cords.y - this.panel.position.y, cords.x, undefined);\n\t\t}\n\t}\n};\nResizeBar.prototype.onResizeEnd = function (evt) {\n\t$(window).off('mousemove.drag').off('mouseup.drag');\n};\nmodule.exports = ResizeBar;\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/client/prototypes/ResizeBar.js\n ** module id = 21\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./src/client/prototypes/ResizeBar.js?");

/***/ },
/* 22 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nvar _require = __webpack_require__(7);\n\nconst TRANSPARENT_COLOR = _require.TRANSPARENT_COLOR;\nconst PALETTE = _require.PALETTE;\nconst CHANGE_COLOR = __webpack_require__(7).palette.CHANGE_COLOR;\n\nvar _require$panels = __webpack_require__(7).panels;\n\nconst SNAP = _require$panels.SNAP;\nconst FLOAT = _require$panels.FLOAT;\nconst B = _require$panels.B;\nconst L = _require$panels.L;\nconst R = _require$panels.R;\nconst TL = _require$panels.TL;\nconst TR = _require$panels.TR;\nconst BL = _require$panels.BL;\nconst BR = _require$panels.BR;\nconst Panel = __webpack_require__(20);\nconst Vector = __webpack_require__(14);\nconst Color = __webpack_require__(23);\nconst pickers = __webpack_require__(24);\nconst divColors = document.createElement('div');\nconst inputColor = document.createElement('input');\nconst Palette = new Panel(PALETTE, SNAP, undefined, 300, 300, BR);\n\nlet time = 0.5 * 1000,\n    loop,\n    index = 0,\n    ctx,\n    colors = ['rgba(26, 188, 156, 1)', 'rgba(241, 196, 15, 1)', 'rgba(52, 152, 219, 1)', 'rgba(230, 126, 34, 1)', 'rgba(231, 76, 60, 1)', 'rgba(189, 195, 199, 1)', 'rgba(155, 89, 182, 1)', 'rgba(52, 73, 94, 1)', 'rgba(127, 140, 141, 1)'];\ninputColor.classList.add('input-color');\n\nPalette.mainInit = function () {\n\tinputColor.id = 'palette';\n\n\tthis.el.appendChild(divColors);\n\tthis.el.appendChild(inputColor);\n\tEditor.getPanel('Tools').setSecudaryColor(TRANSPARENT_COLOR);\n\tinputColor.style.background = Editor.getPanel('Tools').setPrimaryColor(colors[0]);\n\tthis.generateColors();\n\tpickers.callbackUpdate = this.changeColor;\n\tpickers.appendTo(this.el);\n};\nPalette.generateColors = function () {\n\tfor (let i = 0; i < colors.length; i++) {\n\t\tlet color = new Color(colors[i], i == 0);\n\t\tcolor.appendTo(divColors);\n\t\t$(color).on('click.color', this.onClickColor.bind(color));\n\t}\n};\nPalette.onClickColor = function (evt) {\n\tevt.stopImmediatePropagation();\n\tinputColor.style.background = Editor.getPanel('Tools').setPrimaryColor(this.color);\n\tthis.changeColor(this.color);\n\treturn false;\n};\nPalette.changeColor = function (color) {\n\tinputColor.style.background = Editor.getPanel('Tools').setPrimaryColor(color);\n};\n\nmodule.exports = () => Editor.addPanel(Palette);\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/client/panels/Palette/index.js\n ** module id = 22\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./src/client/panels/Palette/index.js?");

/***/ },
/* 23 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nconst AppendObject = __webpack_require__(4);\n\nvar _require = __webpack_require__(5);\n\nconst inheritanceObject = _require.inheritanceObject;\n\nvar _require$palette = __webpack_require__(7).palette;\n\nconst SIZE_COLOR_BLOCK = _require$palette.SIZE_COLOR_BLOCK;\nconst CHANGE_COLOR = _require$palette.CHANGE_COLOR;\n\nfunction Color(color, active) {\n\tAppendObject.call(this, 'palette-color');\n\tthis.color = color;\n\tif (active) {\n\t\tthis.el.classList.add('active');\n\t}\n\tthis.el.style.background = color;\n\tthis.active = active;\n\tthis.el.style.height = this.el.style.width = SIZE_COLOR_BLOCK + 'px';\n}\ninheritanceObject(Color, AppendObject);\nColor.prototype.changeColor = function (color) {\n\t// TODO: remove this function and create select function\n\tif (this.color == color) {\n\t\tthis.el.classList.add('active');\n\t\tthis.active = true;\n\t} else if (this.active) {\n\t\tthis.el.classList.remove('active');\n\t}\n};\n\nmodule.exports = Color;\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/client/prototypes/Palette/Color.js\n ** module id = 23\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./src/client/prototypes/Palette/Color.js?");

/***/ },
/* 24 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nconst AppendObject = __webpack_require__(4);\n\nvar _require$palette$pick = __webpack_require__(7).palette.picker;\n\nconst R = _require$palette$pick.R;\nconst G = _require$palette$pick.G;\nconst B = _require$palette$pick.B;\nconst A = _require$palette$pick.A;\nconst RGBA = __webpack_require__(7).colors.RGBA;\nconst Picker = __webpack_require__(25);\nconst pickers = new AppendObject();\npickers.init = function () {\n\tthis.rgbaPicker = new Picker(RGBA, this.onChangeValueRGBAPicker, R, G, B, A);\n\tthis.rgbaPicker.rangeA.input.min = 0;\n\tthis.rgbaPicker.rangeA.input.max = 100;\n\tthis.rgbaPicker.rangeA.spanValue.textContent = this.rgbaPicker.rangeA.value = this.rgbaPicker.rangeA.input.value = 100;\n\tthis.rgbaPicker.appendTo(this.el);\n\treturn this;\n};\npickers.onChangeValueRGBAPicker = function () {\n\tlet a = this.rangeA.spanValue.textContent = this.rangeA.value = this.rangeA.input.value / 100;\n\tlet color = 'rgba(' + this.rangeR.value + ',' + this.rangeG.value + ',' + this.rangeB.value + ',' + a + ')';\n\tif (pickers.callbackUpdate) {\n\t\tpickers.callbackUpdate(color);\n\t}\n};\nmodule.exports = pickers.init();\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/client/panels/Palette/pickers.js\n ** module id = 24\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./src/client/panels/Palette/pickers.js?");

/***/ },
/* 25 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nconst Range = __webpack_require__(26);\nconst AppendObject = __webpack_require__(4);\n\nvar _require = __webpack_require__(5);\n\nconst inheritanceObject = _require.inheritanceObject;\n\nfunction Picker(name, callback) {\n\tAppendObject.call(this, 'picker');\n\tthis.name = name + 'Picker';\n\tthis.types = Array.prototype.slice.call(arguments, 2);\n\tfor (let i = 0; i < this.types.length; i++) {\n\t\tlet newRange = new Range(0, 0, 255, this.types[i], callback.bind(this));\n\t\tnewRange.appendTo(this.el);\n\t\tthis['range' + this.types[i]] = newRange;\n\t}\n}\ninheritanceObject(Picker, AppendObject);\nmodule.exports = Picker;\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/client/prototypes/Palette/Picker.js\n ** module id = 25\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./src/client/prototypes/Palette/Picker.js?");

/***/ },
/* 26 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nconst AppendObject = __webpack_require__(4);\n\nvar _require = __webpack_require__(5);\n\nconst inheritanceObject = _require.inheritanceObject;\nconst createSpan = _require.createSpan;\nconst createInputRange = _require.createInputRange;\n\nfunction Range(value, min, max, type, callback) {\n\tAppendObject.call(this);\n\tthis.value = value, this.max = max;\n\tthis.min = min;\n\tthis.type = type;\n\tthis.input = createInputRange(0, this.min, this.max);\n\tthis.spanName = createSpan(this.type);\n\tthis.spanValue = createSpan(this.value);\n\tthis.callback = callback;\n\t$(this.input).on('input.range' + this.type, this.onChange.bind(this));\n\tthis.el.appendChild(this.spanName);\n\tthis.el.appendChild(this.input);\n\tthis.el.appendChild(this.spanValue);\n}\ninheritanceObject(Range, AppendObject);\nRange.prototype.onChange = function () {\n\tthis.spanValue.textContent = this.value = this.input.value;\n\tif (this.callback) {\n\t\tthis.callback(this.type, this.value);\n\t}\n};\nmodule.exports = Range;\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/client/prototypes/Palette/Range.js\n ** module id = 26\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./src/client/prototypes/Palette/Range.js?");

/***/ },
/* 27 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nconst Panel = __webpack_require__(20);\n\nvar _require = __webpack_require__(5);\n\nconst make = _require.make;\n\nvar _require$events = __webpack_require__(7).events;\n\nconst ADD_FRAME = _require$events.ADD_FRAME;\nconst DELETE_FRAME = _require$events.DELETE_FRAME;\nconst UPDATE_FRAME = _require$events.UPDATE_FRAME;\nconst SELECT_FRAME = _require$events.SELECT_FRAME;\n\nvar _require$panels = __webpack_require__(7).panels;\n\nconst SNAP = _require$panels.SNAP;\nconst FLOAT = _require$panels.FLOAT;\nconst B = _require$panels.B;\nconst L = _require$panels.L;\nconst R = _require$panels.R;\nconst TL = _require$panels.TL;\nconst TR = _require$panels.TR;\nconst BL = _require$panels.BL;\nconst BR = _require$panels.BR;\nconst PreviewFrame = __webpack_require__(28);\nconst Vector = __webpack_require__(14);\nconst Frames = new Panel('Frames', SNAP, new Vector(0, 0), 180, 40, TL);\nconst ul = document.createElement('ul');\nconst btnAdd = document.createElement('button');\nlet previewFrames = [],\n    currentFrame = 0;\nbtnAdd.textContent = 'add frame';\nbtnAdd.classList.add('add-frame');\nFrames.mainInit = function () {\n\tmake([this.el, btnAdd, [ul, { id: 'preview-frames' }]]);\n\t$(btnAdd).on('click.add', this.createFrame.bind(this));\n};\nFrames.createFrame = function () {\n\tthis.sprite.addFrame();\n};\nFrames.changeFrame = function (type, index, sprite) {\n\tswitch (type) {\n\t\tcase ADD:\n\t\t\t{\n\t\t\t\tthis.addFrame(index, sprite);\n\t\t\t\tbreak;\n\t\t\t}\n\t\tcase DELETE:\n\t\t\t{\n\n\t\t\t\tbreak;\n\t\t\t}\n\t\tcase UPDATE:\n\t\t\t{\n\t\t\t\tthis.updateFrame(index, sprite);\n\t\t\t\tbreak;\n\t\t\t}\n\t}\n};\nFrames.deletePreview = function (index) {\n\tif (!previewFrames[index]) {\n\t\treturn;\n\t}\n\tif (previewFrames[index + 1] && previewFrames[index + 1].frame.index == index) {\n\t\tpreviewFrames[index].changeFrame(this.sprite.frames[index]);\n\t\tthis.deletePreview(index + 1);\n\t} else {\n\t\tpreviewFrames[index].remove();\n\t\tpreviewFrames.splice(index, 1);\n\t}\n};\nFrames.paintFrame = function (index) {\n\tpreviewFrames[index].paint();\n};\nFrames.addFrame = function () {\n\tconsole.info('addFrame');\n\tthis.sprite.addFrame();\n};\nFrames.selectFrame = function (index) {\n\tconsole.log(previewFrames, index);\n\tif (previewFrames[currentFrame]) {\n\t\tpreviewFrames[currentFrame].unSelectFrame();\n\t}\n\tpreviewFrames[index].selectFrame();\n\tcurrentFrame = index;\n};\nFrames.addPreview = function (frame) {\n\tif (previewFrames[frame.index]) {\n\t\tif (previewFrames[frame.index].frame.index !== frame.index) {\n\t\t\tthis.addPreview(previewFrames[frame.index].frame);\n\t\t\tpreviewFrames[frame.index].changeFrame(frame);\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\t} else {\n\t\tpreviewFrames[frame.index] = new PreviewFrame(frame, frame.index == currentFrame).appendTo(ul);\n\t}\n};\nFrames.reAppend = function () {\n\tfor (let i = 0; i < previewFrames.length; i++) {\n\t\tpreviewFrames[i].remove();\n\t\tpreviewFrames[i].appendTo(ul);\n\t}\n};\nmodule.exports = () => Editor.addPanel(Frames);\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/client/panels/Frames.js\n ** module id = 27\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./src/client/panels/Frames.js?");

/***/ },
/* 28 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nconst AppendObject = __webpack_require__(4);\nconst SELECT_FRAME = __webpack_require__(7).events.SELECT_FRAME;\n\nvar _require = __webpack_require__(7);\n\nconst TRANSPARENT_IMG = _require.TRANSPARENT_IMG;\n\nvar _require2 = __webpack_require__(5);\n\nconst inheritanceObject = _require2.inheritanceObject;\nconst createBtn = _require2.createBtn;\nconst createSpan = _require2.createSpan;\nconst imageSmoothingDisabled = _require2.imageSmoothingDisabled;\n\n\nfunction PreviewFrame(frame, selected) {\n\tthis.$type = 'li';\n\tAppendObject.call(this, 'preview-frame');\n\tthis.frame = frame;\n\tthis.selected = selected;\n\tthis.context = document.createElement('canvas').getContext('2d');\n\tthis.background = document.createElement('canvas').getContext('2d');\n\tthis.btnClone = createBtn('C', 'btn-clone', 'btn');\n\tthis.btnHidden = createBtn('H', 'btn-hidden', 'btn'); // TODO: Create action hidden frame\n\tthis.btnDelete = createBtn('D', 'btn-delete', 'btn');\n\tthis.spanIndex = createSpan(this.frame.index + 1, 'index');\n\n\tthis.el.appendChild(this.background.canvas);\n\tthis.el.appendChild(this.context.canvas);\n\tthis.el.appendChild(this.btnClone);\n\tthis.el.appendChild(this.btnHidden);\n\tthis.el.appendChild(this.btnDelete);\n\tthis.el.appendChild(this.spanIndex);\n\n\tif (selected) {\n\t\tthis.el.classList.add('active');\n\t}\n\t$(this.el).on('click.frame', this.onClick.bind(this));\n\t$(this.btnDelete).on('click.frame', this.deleteFrame.bind(this));\n\t$(this.btnClone).on('click.frame', this.cloneFrame.bind(this));\n}\ninheritanceObject(PreviewFrame, AppendObject);\nPreviewFrame.prototype.onClick = function (evt) {\n\tthis.frame.select();\n};\nPreviewFrame.prototype.cloneFrame = function (evt) {\n\tevt.stopPropagation();\n\tthis.frame.sprite.addFrame(this.frame.index);\n};\nPreviewFrame.prototype.deleteFrame = function (evt) {\n\tevt.stopPropagation();\n\tthis.frame.delete();\n};\nPreviewFrame.prototype.changeFrame = function (frame) {\n\tthis.frame = frame;\n\tthis.paint();\n};\nPreviewFrame.prototype.selectFrame = function () {\n\tthis.selected = true;\n\tthis.el.classList.add('active');\n};\nPreviewFrame.prototype.unSelectFrame = function () {\n\tthis.selected = false;\n\tthis.el.classList.remove('active');\n};\nPreviewFrame.prototype.resize = function () {\n\tlet size = this.el.clientWidth;\n\tthis.el.style.height = size + 'px';\n\tif (this.frame.width > this.frame.height) {\n\t\tthis.background.canvas.width = this.context.canvas.width = size;\n\t\tthis.scale = size / this.frame.width;\n\t\tthis.background.canvas.height = this.context.canvas.height = this.frame.height * this.scale;\n\t\tthis.background.canvas.style.marginTop = this.context.canvas.style.marginTop = (size - this.background.canvas.height) / 2 + 'px';\n\t} else {\n\t\tthis.background.canvas.height = this.context.canvas.height = size;\n\t\tthis.scale = size / this.frame.height;\n\t\tthis.background.canvas.width = this.context.canvas.width = this.frame.width * this.scale;\n\t\tthis.background.canvas.style.marginLeft = this.context.canvas.style.marginLeft = (size - this.background.canvas.width) / 2 + 'px';\n\t}\n\tthis.paintBackground();\n\tthis.paint();\n};\nPreviewFrame.prototype.paintBackground = function () {\n\tlet pattern = this.background.createPattern(TRANSPARENT_IMG, \"repeat\");\n\tthis.background.rect(0, 0, this.background.canvas.width, this.background.canvas.height);\n\tthis.background.fillStyle = pattern;\n\tthis.background.fill();\n};\nPreviewFrame.prototype.appendTo = function (el) {\n\tel.appendChild(this.el);\n\tthis.resize();\n\tthis.el.classList.remove('active');\n\tthis.spanIndex.textContent = this.frame.index + 1;\n\treturn this;\n};\nPreviewFrame.prototype.paint = function () {\n\tthis.clean();\n\timageSmoothingDisabled(this.context);\n\tthis.context.drawImage(this.frame.context.canvas, 0, 0, this.frame.width * this.scale, this.frame.height * this.scale);\n};\nPreviewFrame.prototype.clean = function () {\n\tthis.context.clearRect(0, 0, this.context.canvas.width, this.context.canvas.height);\n\t//this.context.canvas.width = this.context.canvas.width;\n};\nmodule.exports = PreviewFrame;\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/client/prototypes/Frames/PreviewFrame.js\n ** module id = 28\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./src/client/prototypes/Frames/PreviewFrame.js?");

/***/ },
/* 29 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nconst Panel = __webpack_require__(20);\n\nvar _require$panels = __webpack_require__(7).panels;\n\nconst SNAP = _require$panels.SNAP;\nconst FLOAT = _require$panels.FLOAT;\nconst B = _require$panels.B;\nconst L = _require$panels.L;\nconst R = _require$panels.R;\nconst TL = _require$panels.TL;\nconst TR = _require$panels.TR;\nconst BL = _require$panels.BL;\nconst BR = _require$panels.BR;\nconst CHANGE_SPRITE = __webpack_require__(7).events.CHANGE_SPRITE;\nconst Info = new Panel('Info', SNAP, BR);\n\nInfo.mainInit = function () {\n\tthis.el.style['z-index'] = '9999';\n\tEditor.events.on(CHANGE_SPRITE + '.' + this.name, this.changeSprite, this);\n};\nInfo.changeSprite = function (sprite) {\n\tvar p = document.createElement('div');\n\tp.textContent = 'Width: ' + sprite.width;\n\tthis.el.appendChild(p);\n\tp = document.createElement('div');\n\tp.textContent = 'Height: ' + sprite.height;\n\tthis.el.appendChild(p);\n\tp = document.createElement('div');\n\tp.textContent = 'Frames: ' + sprite.frames.length;\n\tthis.el.appendChild(p);\n};\nmodule.exports = () => Editor.addPanel(Info);\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/client/panels/Info.js\n ** module id = 29\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./src/client/panels/Info.js?");

/***/ },
/* 30 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nconst Panel = __webpack_require__(20);\n\nvar _require = __webpack_require__(5);\n\nconst make = _require.make;\nconst Vector = __webpack_require__(14);\n\nvar _require$panels = __webpack_require__(7).panels;\n\nconst SNAP = _require$panels.SNAP;\nconst FLOAT = _require$panels.FLOAT;\nconst B = _require$panels.B;\nconst L = _require$panels.L;\nconst R = _require$panels.R;\nconst TL = _require$panels.TL;\nconst TR = _require$panels.TR;\nconst BL = _require$panels.BL;\nconst BR = _require$panels.BR;\nconst SELECT_TOOL = __webpack_require__(7).events.SELECT_TOOL;\nconst Tools = new Panel('Tools', FLOAT, new Vector(500, 500), 60);\nTools.tools = {};\nTools.mainInit = function () {\n\tthis.el.style['z-index'] = '9999';\n\n\tlet parentColors = make('div', { parent: this.el, className: 'colors' });\n\tthis.primaryColor = {};\n\tthis.secondaryColor = {};\n\tthis.secondaryColor.el = make('div', { className: 'secondary', parent: parentColors });\n\tthis.primaryColor.el = make('div', { className: 'primary', parent: parentColors });\n\n\tthis.changePosition(new Vector(100, 100));\n\n\tthis.currentTool = this.tools.pencil;\n\tfor (let i = 0, keys = Object.keys(this.tools); i < keys.length; i++) {\n\t\tthis.tools[keys[i]].appendTo(this.el);\n\t}\n};\nTools.getPrimaryColor = function () {\n\treturn this.primaryColor.color;\n};\nTools.getSecondColor = function () {\n\treturn this.secondaryColor.color;\n};\nTools.setPrimaryColor = function (color) {\n\tthis.primaryColor.color = color;\n\tthis.primaryColor.el.style.background = color;\n\treturn color;\n};\nTools.setSecudaryColor = function (color) {\n\tthis.secondaryColor.color = color;\n\tthis.secondaryColor.el.style.background = color;\n\treturn color;\n};\nTools.changeCurrentTool = function (name) {\n\tthis.lastTool = this.currentTool;\n\tthis.currentTool = this.tools[name];\n};\nTools.addTool = function (tool) {\n\tif (hasVal(this.tools[tool.name])) {\n\t\treturn console.error('Invalid name tool');\n\t}\n\tthis.tools[tool.name] = tool;\n};\nmodule.exports = () => Editor.addPanel(Tools);\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/client/panels/Tools.js\n ** module id = 30\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./src/client/panels/Tools.js?");

/***/ },
/* 31 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nconst Panel = __webpack_require__(20);\nconst PreviewLayer = __webpack_require__(32);\n\nvar _require$panels = __webpack_require__(7).panels;\n\nconst SNAP = _require$panels.SNAP;\nconst FLOAT = _require$panels.FLOAT;\nconst B = _require$panels.B;\nconst L = _require$panels.L;\nconst R = _require$panels.R;\nconst TL = _require$panels.TL;\nconst TR = _require$panels.TR;\nconst BL = _require$panels.BL;\nconst BR = _require$panels.BR;\n\nvar _require = __webpack_require__(5);\n\nconst createBtn = _require.createBtn;\nconst createSpan = _require.createSpan;\nconst make = _require.make;\nconst btnAddLayer = createBtn('add layer', 'add-layer');\nconst Layers = new Panel('Layers', SNAP, undefined, 120, undefined, BL);\n\nlet currentLayer = 0,\n    layersPreview = [];\nLayers.mainInit = function () {\n\tthis.el.style['z-index'] = '9999';\n\tthis.el.appendChild(btnAddLayer);\n\tthis.ul = document.createElement('ul');\n\tthis.ul = make(['ul', { className: 'layers-list', parent: this.el }]);\n\t//this.createPreviewLayer();\n\t$(btnAddLayer).on('click.add', this.createLayer.bind(this));\n};\nLayers.createLayer = function () {\n\tthis.frame.addLayer();\n};\nLayers.createPreviewLayer = function () {\n\tthis.ul.innerHTML = '';\n\tfor (let i = 0; i < this.layers.length; i++) {\n\t\t//this.layers[i];\n\t\tlayersPreview[this.layers[i].index] = new PreviewLayer(this.layers[i]).appendTo(this.ul);\n\t\t//this.el.appendChild(createSpan(this.layers[i].index + 1));\n\t}\n};\nLayers.deletePreview = function (index) {\n\tif (!layersPreview[index]) {\n\t\treturn;\n\t}\n\tif (layersPreview[index + 1] && layersPreview[index + 1].layer.index == index) {\n\t\tlayersPreview[index].changeLayer(this.layers[index]);\n\t\tthis.deletePreview(index + 1);\n\t} else {\n\t\tlayersPreview[index].remove();\n\t\tlayersPreview.splice(index, 1);\n\t}\n};\nLayers.addPreview = function (layer) {\n\tif (layersPreview[layer.index]) {\n\t\tif (layersPreview[layer.index].layer.index !== layer.index) {\n\t\t\tlayersPreview[layer.index].changeLayer(layer);\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\t} else {\n\t\tlayersPreview[layer.index] = new PreviewLayer(layer).appendTo(this.ul);\n\t}\n};\nLayers.selectLayer = function (index) {\n\tif (layersPreview[currentLayer]) {\n\t\tlayersPreview[currentLayer].unSelectLayer();\n\t}\n\tlayersPreview[index].selectLayer();\n\tcurrentLayer = index;\n};\nLayers.updateLayers = function () {\n\tthis.createPreviewLayer();\n};\nLayers.paintLayer = function () {};\nmodule.exports = () => Editor.addPanel(Layers);\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/client/panels/Layers.js\n ** module id = 31\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./src/client/panels/Layers.js?");

/***/ },
/* 32 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nconst AppendObject = __webpack_require__(4);\nconst SELECT_LAYER = __webpack_require__(7).events.SELECT_LAYER;\n\nvar _require = __webpack_require__(5);\n\nconst inheritanceObject = _require.inheritanceObject;\nconst make = _require.make;\n\n\nfunction PreviewLayer(layer, selected) {\n\tthis.$type = 'li';\n\tAppendObject.call(this, 'preview-layer');\n\tthis.layer = layer;\n\tthis.layer.selected = selected;\n\tthis.el.textContent = 'layer ' + (this.layer.index + 1);\n\tthis.btnClone = make('button', { parent: this.el }, 'c');\n\tthis.btnDelete = make('button', { parent: this.el }, 'd');\n\n\t$(this.btnDelete).on('click.delete', this.onDelete.bind(this));\n\t$(this.btnClone).on('click.clone', this.onClone.bind(this));\n\t$(this.el).on('click.layer', this.onClick.bind(this));\n}\ninheritanceObject(PreviewLayer, AppendObject);\nPreviewLayer.prototype.onClone = function (evt) {\n\tthis.layer.frame.addLayer(this.layer);\n};\nPreviewLayer.prototype.onDelete = function (evt) {\n\tthis.layer.delete();\n};\nPreviewLayer.prototype.selectLayer = function () {};\nPreviewLayer.prototype.unSelectLayer = function () {};\nPreviewLayer.prototype.changeLayer = function (layer) {\n\tthis.layer = layer;\n};\nPreviewLayer.prototype.update = function () {};\nPreviewLayer.prototype.onClick = function () {\n\tthis.layer.frame.selectLayer(this.layer);\n\t//Editor.events.fire(SELECT_LAYER, this.layer);\n};\n\nmodule.exports = PreviewLayer;\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/client/prototypes/Layers/PreviewLayer.js\n ** module id = 32\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./src/client/prototypes/Layers/PreviewLayer.js?");

/***/ },
/* 33 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nconst Tool = __webpack_require__(34);\n\nvar _require = __webpack_require__(7);\n\nconst RIGHT_CLICK = _require.RIGHT_CLICK;\nconst LEFT_CLICK = _require.LEFT_CLICK;\nconst TRANSPARENT_COLOR = _require.TRANSPARENT_COLOR;\nconst Vector = __webpack_require__(14);\nconst bucket = new Tool('bucket');\n\nbucket.onMouseDown = function (evt) {\n\tif (evt.target.nodeName == 'CANVAS') {\n\t\tlet newPixel = this.canvas.calculatePosition(new Vector(evt.clientX, evt.clientY));\n\t\tnewPixel.color = evt.which === RIGHT_CLICK ? Editor.getPanel('Tools').getSecondColor() : Editor.getPanel('Tools').getPrimaryColor();\n\t\tif (newPixel.color !== this.layer.getColorPixel(newPixel.cord)) {\n\t\t\tthis.fill(newPixel.cord, newPixel.color, this.layer.getColorPixel(newPixel.cord));\n\t\t\tthis.layer.frame.paint();\n\t\t}\n\t}\n};\nbucket.onMouseMove = function (evt) {};\nbucket.onMouseUp = function (evt) {};\n\nmodule.exports = () => Editor.addTool(bucket);\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/client/tools/bucket.js\n ** module id = 33\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./src/client/tools/bucket.js?");

/***/ },
/* 34 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nconst AppendObject = __webpack_require__(4);\nconst Vector = __webpack_require__(14);\n\nvar _require = __webpack_require__(7);\n\nconst TRANSPARENT_COLOR = _require.TRANSPARENT_COLOR;\nconst SELECT_TOOL = __webpack_require__(7).events.SELECT_TOOL;\n\nvar _require2 = __webpack_require__(5);\n\nconst inheritanceObject = _require2.inheritanceObject;\nconst defineGetter = _require2.defineGetter;\n\nfunction Tool(name) {\n\tthis.$type = 'button';\n\tAppendObject.call(this, 'tool');\n\tthis.name = name;\n\tthis.el.textContent = this.name[0];\n\tthis.stroke = [];\n\tthis.el.addEventListener('click', this.select.bind(this));\n}\ninheritanceObject(Tool, AppendObject);\ndefineGetter(Tool.prototype, 'canvas', function () {\n\treturn Editor.canvas;\n});\ndefineGetter(Tool.prototype, 'layer', function () {\n\treturn Editor.canvas.artboard.layer;\n});\nTool.prototype.select = function () {\n\tEditor.getPanel('Tools').changeCurrentTool(this.name);\n};\nTool.prototype.clonePixel = function (pixel) {\n\treturn {\n\t\tcord: pixel.cord.clone(),\n\t\tcolor: pixel.color\n\t};\n};\nTool.prototype.fill = function (initCord, newColor, oldColor) {\n\t// NOTE: http://www.williammalone.com/articles/html5-canvas-javascript-paint-bucket-tool/\n\tlet stack = [initCord];\n\twhile (stack.length) {\n\t\tlet cord = stack.pop(),\n\t\t    pixelPos = (cord.y * this.layer.width + cord.x) * 4,\n\t\t    reachLeft = false,\n\t\t    reachRight = false;\n\t\twhile (this.layer.getColorPixel(cord) == oldColor && cord.less(0, 1).y >= 0) {\n\t\t\tpixelPos -= this.layer.width * 4;\n\t\t}\n\t\twhile (cord.y < this.layer.height - 1 && this.layer.getColorPixel(cord.sum(0, 1)) == oldColor) {\n\t\t\t// paint\n\t\t\tthis.layer.paintAt(cord.clone(), newColor);\n\t\t\tif (cord.x > 0) {\n\t\t\t\tif (this.layer.getColorPixel(cord.clone().less(1, 0)) == oldColor) {\n\t\t\t\t\tif (!reachLeft) {\n\t\t\t\t\t\tstack.push(cord.clone().less(1, 0));\n\t\t\t\t\t\treachLeft = true;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\treachLeft = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (cord.x < this.layer.width - 1) {\n\t\t\t\tif (this.layer.getColorPixel(cord.clone().sum(1, 0)) == oldColor) {\n\t\t\t\t\tstack.push(cord.clone().sum(1, 0));\n\t\t\t\t\treachRight = true;\n\t\t\t\t} else {\n\t\t\t\t\treachRight = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\tpixelPos += this.layer.width * 4;\n\t\t}\n\t}\n};\nTool.prototype.paintLineBetween = function (pixel1, pixel2) {\n\tpixel1 = this.clonePixel(pixel1);\n\tpixel2 = this.clonePixel(pixel2);\n\tlet diff = pixel1.cord.diffAbs(pixel2.cord, true),\n\t    err = diff.x - diff.y;\n\n\twhile (true) {\n\t\tlet tempPoint = this.clonePixel(pixel1);\n\t\tthis.layer.paintAt(tempPoint.cord, tempPoint.color); // Do what you need to for this\n\t\tif (pixel1.cord.x == pixel2.cord.x && pixel1.cord.y == pixel2.cord.y) {\n\t\t\tbreak;\n\t\t}\n\t\tlet e2 = 2 * err;\n\t\tif (e2 > -diff.y) {\n\t\t\terr -= diff.y;pixel1.cord.x += diff.sx;\n\t\t}\n\t\tif (e2 < diff.x) {\n\t\t\terr += diff.x;pixel1.cord.y += diff.sy;\n\t\t}\n\t}\n};\nmodule.exports = Tool;\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/client/prototypes/Tool.js\n ** module id = 34\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./src/client/prototypes/Tool.js?");

/***/ },
/* 35 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nconst Tool = __webpack_require__(34);\n\nvar _require = __webpack_require__(7);\n\nconst RIGHT_CLICK = _require.RIGHT_CLICK;\nconst LEFT_CLICK = _require.LEFT_CLICK;\nconst TRANSPARENT_COLOR = _require.TRANSPARENT_COLOR;\nconst Vector = __webpack_require__(14);\nconst eraser = new Tool('eraser');\n\nlet lastPixel;\neraser.onMouseDown = function (evt) {\n\tif (evt.target.nodeName == 'CANVAS') {\n\t\tthis.clicked = true;\n\t\tlastPixel = this.canvas.calculatePosition(new Vector(evt.clientX, evt.clientY));\n\t\tlastPixel.color = TRANSPARENT_COLOR;\n\t}\n};\neraser.onMouseMove = function (evt) {\n\tif (this.clicked) {\n\t\tlet newPixel = this.canvas.calculatePosition(new Vector(evt.clientX, evt.clientY));\n\t\tnewPixel.color = TRANSPARENT_COLOR;\n\t\tif (lastPixel.cord.importantDiff(newPixel.cord)) {\n\t\t\tthis.paintLineBetween(lastPixel, newPixel);\n\t\t} else {\n\t\t\tthis.layer.paintAt(newPixel.cord, newPixel.color);\n\t\t}\n\t\tlastPixel = newPixel;\n\t}\n};\neraser.onMouseUp = function (evt) {\n\tif (this.clicked) {\n\t\tthis.clicked = false;\n\t\tlastPixel = undefined;\n\t}\n};\nmodule.exports = () => Editor.addTool(eraser);\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/client/tools/eraser.js\n ** module id = 35\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./src/client/tools/eraser.js?");

/***/ },
/* 36 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nconst Tool = __webpack_require__(34);\n\nvar _require = __webpack_require__(7);\n\nconst RIGHT_CLICK = _require.RIGHT_CLICK;\nconst LEFT_CLICK = _require.LEFT_CLICK;\nconst TRANSPARENT_COLOR = _require.TRANSPARENT_COLOR;\nconst Vector = __webpack_require__(14);\nconst pick = new Tool('pick');\n\npick.onMouseDown = function (evt) {\n\tif (evt.target.nodeName == 'CANVAS') {\n\t\tlet newPixel = this.canvas.calculatePosition(new Vector(evt.clientX, evt.clientY));\n\t\tnewPixel.color = this.layer.getColorPixel(newPixel.cord);\n\t\tif (evt.which === RIGHT_CLICK) {\n\t\t\tEditor.getPanel('Tools').setSecudaryColor(newPixel.color);\n\t\t} else {\n\t\t\tEditor.getPanel('Tools').setPrimaryColor(newPixel.color);\n\t\t}\n\t\tEditor.getPanel('Tools').lastTool.select();\n\t}\n};\npick.onMouseMove = function (evt) {};\npick.onMouseUp = function (evt) {};\n\nmodule.exports = () => Editor.addTool(pick);\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/client/tools/pick.js\n ** module id = 36\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./src/client/tools/pick.js?");

/***/ },
/* 37 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nconst Tool = __webpack_require__(34);\n\nvar _require = __webpack_require__(7);\n\nconst MIDDLE_CLICK = _require.MIDDLE_CLICK;\nconst RIGHT_CLICK = _require.RIGHT_CLICK;\nconst LEFT_CLICK = _require.LEFT_CLICK;\nconst TRANSPARENT_COLOR = _require.TRANSPARENT_COLOR;\nconst Vector = __webpack_require__(14);\nconst pencil = new Tool('pencil');\nlet lastPixel;\npencil.onMouseDown = function (evt) {\n\tif (evt.target.nodeName == 'CANVAS') {\n\t\tthis.clicked = true;\n\t\tlastPixel = this.canvas.calculatePosition(new Vector(evt.clientX, evt.clientY));\n\t\tlastPixel.color = evt.which === RIGHT_CLICK ? Editor.getPanel('Tools').getSecondColor() : Editor.getPanel('Tools').getPrimaryColor();\n\t}\n};\npencil.onMouseMove = function (evt) {\n\tif (this.clicked) {\n\t\tlet newPixel = this.canvas.calculatePosition(new Vector(evt.clientX, evt.clientY));\n\t\tnewPixel.color = evt.which === RIGHT_CLICK ? Editor.getPanel('Tools').getSecondColor() : Editor.getPanel('Tools').getPrimaryColor();\n\t\tif (lastPixel.cord.importantDiff(newPixel.cord)) {\n\t\t\tthis.paintLineBetween(lastPixel, newPixel);\n\t\t} else {\n\t\t\tthis.layer.paintAt(newPixel.cord, newPixel.color);\n\t\t}\n\t\tlastPixel = newPixel;\n\t}\n};\npencil.onMouseUp = function (evt) {\n\tif (this.clicked) {\n\t\tthis.clicked = false;\n\t\tlastPixel = undefined;\n\t}\n};\nmodule.exports = () => Editor.addTool(pencil);\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/client/tools/pencil.js\n ** module id = 37\n ** module chunks = 0\n **/\n//# sourceURL=webpack:///./src/client/tools/pencil.js?");

/***/ }
/******/ ]);